<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Celluloid::InstanceMethods - celluloid-0.15.2 Documentation</title>

<link href="../fonts.css" rel="stylesheet">
<link href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/navigation.js"></script>
<script src="../js/search_index.js"></script>
<script src="../js/search.js"></script>
<script src="../js/searcher.js"></script>
<script src="../js/darkfish.js"></script>


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-bare_object">#bare_object</a>
    
    <li ><a href="#method-i-inspect">#inspect</a>
    
    <li ><a href="#method-i-leaked-3F">#leaked?</a>
    
    <li ><a href="#method-i-name">#name</a>
    
    <li ><a href="#method-i-tap">#tap</a>
    
    <li ><a href="#method-i-wrapped_object">#wrapped_object</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Celluloid::InstanceMethods">
  <h1 id="module-Celluloid::InstanceMethods" class="module">
    module Celluloid::InstanceMethods
  </h1>

  <section class="description">
    
<p>These are methods we donâ€™t want added to the Celluloid singleton but to be
defined on all classes that use Celluloid</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-bare_object" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bare_object</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Obtain the bare Ruby object the actor is wrapping. This is useful for only
a limited set of use cases like runtime metaprogramming. Interacting
directly with the bare object foregoes any kind of thread safety that
Celluloid would ordinarily provide you, and the object is guaranteed to be
shared with at least the actor thread. Tread carefully.</p>

<p>Bare objects can be identified via <a
href="InstanceMethods.html#method-i-inspect">inspect</a> output:</p>

<pre class="ruby"><span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">actor</span>
 =<span class="ruby-operator">&gt;</span> <span class="ruby-comment">#&lt;Celluloid::Actor(Foo:0x3fefcb77c194)&gt;</span>
<span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">actor</span>.<span class="ruby-identifier">bare_object</span>
 =<span class="ruby-operator">&gt;</span> <span class="ruby-comment">#&lt;WARNING: BARE CELLULOID OBJECT (Foo:0x3fefcb77c194)&gt;</span>
</pre>
          
          

          
          <div class="method-source-code" id="bare_object-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 280</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bare_object</span>; <span class="ruby-keyword">self</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="InstanceMethods.html#method-i-wrapped_object">wrapped_object</a>
        </div>
        

        
      </div>

    
      <div id="method-i-inspect" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">inspect</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="inspect-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;...&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Celluloid</span>.<span class="ruby-identifier">detect_recursion</span>

  <span class="ruby-identifier">str</span> = <span class="ruby-node">&quot;#&lt;&quot;</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">leaked?</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Celluloid</span><span class="ruby-operator">::</span><span class="ruby-constant">BARE_OBJECT_WARNING_MESSAGE</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;Celluloid::ActorProxy&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;(#{self.class}:0x#{object_id.to_s(16)})&quot;</span>
  <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; &quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">instance_variables</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">instance_variables</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ivar</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ivar</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Celluloid</span><span class="ruby-operator">::</span><span class="ruby-constant">OWNER_IVAR</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{ivar}=#{instance_variable_get(ivar).inspect} &quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">str</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">/\s$/</span>, <span class="ruby-string">'&gt;'</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-leaked-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">leaked?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Are we being invoked in a different thread from our owner?</p>
          
          

          
          <div class="method-source-code" id="leaked-3F-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 284</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">leaked?</span>
  <span class="ruby-ivar">@celluloid_owner</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">current</span>[<span class="ruby-value">:celluloid_actor</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Obtain the name of the current actor</p>
          
          

          
          <div class="method-source-code" id="name-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 294</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name</span>
  <span class="ruby-constant">Actor</span>.<span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-tap" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tap</span><span
            class="method-args">() { |current_actor| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="tap-source">
            <pre><span class="ruby-comment"># File lib/celluloid.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tap</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">current_actor</span>
  <span class="ruby-identifier">current_actor</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-wrapped_object" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">wrapped_object</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="InstanceMethods.html#method-i-bare_object">bare_object</a>
        </div>
        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

