[04-Jun-2014 16:51:39 Europe/Berlin] PHP Warning:  mysql_connect(): php_network_getaddresses: getaddrinfo failed: No such host is known.  in E:\xampp\htdocs\login.php on line 12
[04-Jun-2014 16:51:39 Europe/Berlin] PHP Warning:  mysql_connect(): php_network_getaddresses: getaddrinfo failed: No such host is known.  in E:\xampp\htdocs\login.php on line 12
[04-Jun-2014 17:07:46 Europe/Berlin] PHP Parse error:  syntax error, unexpected 'makes' (T_STRING) in E:\xampp\htdocs\register.php on line 59
[04-Jun-2014 17:07:57 Europe/Berlin] PHP Warning:  mysql_connect(): php_network_getaddresses: getaddrinfo failed: No such host is known.  in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:07:57 Europe/Berlin] PHP Warning:  mysql_connect(): php_network_getaddresses: getaddrinfo failed: No such host is known.  in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:08:33 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: YES) in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:08:54 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: YES) in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:09:23 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: YES) in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:09:43 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: YES) in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:12:19 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: YES) in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:12:42 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: YES) in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:12:51 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: YES) in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:14:55 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: YES) in E:\xampp\htdocs\register.php on line 10
[04-Jun-2014 17:57:36 Europe/Berlin] PHP Notice:  Undefined index: email in E:\xampp\htdocs\login.php on line 76
[04-Jun-2014 17:57:36 Europe/Berlin] PHP Notice:  Use of undefined constant ID_my_site - assumed 'ID_my_site' in E:\xampp\htdocs\login.php on line 125
[04-Jun-2014 17:57:36 Europe/Berlin] PHP Notice:  Use of undefined constant Key_my_site - assumed 'Key_my_site' in E:\xampp\htdocs\login.php on line 127
[04-Jun-2014 17:57:37 Europe/Berlin] PHP Warning:  mysql_connect(): php_network_getaddresses: getaddrinfo failed: No such host is known.  in E:\xampp\htdocs\index.php on line 14
[04-Jun-2014 17:57:37 Europe/Berlin] PHP Warning:  mysql_connect(): php_network_getaddresses: getaddrinfo failed: No such host is known.  in E:\xampp\htdocs\index.php on line 14
[04-Jun-2014 16:10:33 UTC] PHP Warning:  Invalid argument supplied for foreach() in F:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[04-Jun-2014 16:17:33 UTC] PHP Warning:  An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="https://wordpress.org/support/">support forums</a>. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in F:\xampp\apps\wordpress\htdocs\wp-admin\includes\theme.php on line 350
[05-Jun-2014 14:37:31 Europe/Berlin] PHP Notice:  Undefined index: email in E:\xampp\htdocs\login.php on line 76
[05-Jun-2014 14:37:54 Europe/Berlin] PHP Notice:  Undefined index: email in E:\xampp\htdocs\login.php on line 76
[05-Jun-2014 14:37:56 Europe/Berlin] PHP Notice:  Use of undefined constant ID_my_site - assumed 'ID_my_site' in E:\xampp\htdocs\login.php on line 125
[05-Jun-2014 14:37:56 Europe/Berlin] PHP Notice:  Use of undefined constant Key_my_site - assumed 'Key_my_site' in E:\xampp\htdocs\login.php on line 127
[05-Jun-2014 12:42:02 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[05-Jun-2014 12:42:07 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[05-Jun-2014 12:42:07 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[05-Jun-2014 14:59:29 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in D:\xampp\apps\wordpress\htdocs\wp-includes\canonical.php on line 39
[05-Jun-2014 15:25:38 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in D:\xampp\apps\wordpress\htdocs\wp-includes\template.php on line 467
[05-Jun-2014 17:07:58 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[05-Jun-2014 17:51:15 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[05-Jun-2014 17:51:16 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[05-Jun-2014 22:48:12 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\wp-db.php on line 15
[06-Jun-2014 01:41:50 Europe/Berlin] PHP Warning:  mysql_connect(): No connection could be made because the target machine actively refused it.
 in K:\xampp\htdocs\login.php on line 12
[06-Jun-2014 01:59:35 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\StringByte.int.php on line 8
[05-Jun-2014 23:59:35 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\bookmark-template.php on line 50
[06-Jun-2014 00:00:33 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\themes\bauhaus\root-functions.php on line 3
[06-Jun-2014 00:04:24 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\core\globals.php on line 3
[06-Jun-2014 02:05:18 Europe/Berlin] PHP Notice:  Undefined index: email in K:\xampp\htdocs\login.php on line 76
[06-Jun-2014 02:05:19 Europe/Berlin] PHP Notice:  Use of undefined constant ID_my_site - assumed 'ID_my_site' in K:\xampp\htdocs\login.php on line 125
[06-Jun-2014 02:05:19 Europe/Berlin] PHP Notice:  Use of undefined constant Key_my_site - assumed 'Key_my_site' in K:\xampp\htdocs\login.php on line 127
[06-Jun-2014 00:21:04 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\rewrite.php on line 19
[06-Jun-2014 00:23:12 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\themes\foundation\root-functions.php on line 631
[06-Jun-2014 00:31:59 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\media.php on line 16
[06-Jun-2014 00:36:43 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\template.php on line 23
[06-Jun-2014 00:38:32 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\menu.php on line 78
[06-Jun-2014 00:43:21 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\update.php on line 14
[06-Jun-2014 00:44:45 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\core\file-operations.php on line 3
[06-Jun-2014 00:45:49 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\themes\foundation\root-functions.php on line 3
[06-Jun-2014 00:49:48 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\kses.php on line 44
[06-Jun-2014 00:50:38 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\themes\foundation\root-functions.php on line 631
[06-Jun-2014 00:51:44 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\list-table.php on line 20
[06-Jun-2014 00:56:50 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\capabilities.php on line 29
[06-Jun-2014 00:59:25 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\core\menu-walkers.php on line 3
[06-Jun-2014 01:01:07 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\core\cloud-migrate.php on line 3
[06-Jun-2014 01:05:05 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-settings.php on line 328
[06-Jun-2014 01:08:09 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\cron.php on line 317
[06-Jun-2014 01:09:07 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\widgets.php on line 1386
[06-Jun-2014 01:13:02 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\themes\foundation\modules\featured\featured.php on line 3
[06-Jun-2014 01:14:03 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\core\admin-menu.php on line 5
[06-Jun-2014 01:15:14 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\deprecated.php on line 26
[06-Jun-2014 01:17:16 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\wptouch\include\add-ons\wordtwit-pro.php on line 4
[06-Jun-2014 01:20:09 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\import.php on line 16
[06-Jun-2014 01:25:11 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\kses.php on line 1084
[06-Jun-2014 03:28:29 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-admin\users.php on line 10
[06-Jun-2014 03:28:31 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-cron.php on line 12
[06-Jun-2014 14:14:24 Europe/Berlin] PHP Notice:  Undefined index: email in K:\xampp\htdocs\login.php on line 76
[06-Jun-2014 14:32:53 Europe/Berlin] PHP Warning:  mysql_connect(): No connection could be made because the target machine actively refused it.
 in K:\xampp\htdocs\index.php on line 15
[06-Jun-2014 14:33:54 Europe/Berlin] PHP Warning:  mysql_connect(): No connection could be made because the target machine actively refused it.
 in K:\xampp\htdocs\index.php on line 15
[06-Jun-2014 14:37:55 Europe/Berlin] PHP Notice:  Undefined index: email in K:\xampp\htdocs\login.php on line 76
[06-Jun-2014 14:38:08 Europe/Berlin] PHP Notice:  Use of undefined constant ID_my_site - assumed 'ID_my_site' in K:\xampp\htdocs\login.php on line 125
[06-Jun-2014 14:38:09 Europe/Berlin] PHP Notice:  Use of undefined constant Key_my_site - assumed 'Key_my_site' in K:\xampp\htdocs\login.php on line 127
[06-Jun-2014 15:14:20 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\vendor_config.php on line 12
[06-Jun-2014 15:16:22 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\Config.class.php on line 214
[06-Jun-2014 15:18:17 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\select_lang.lib.php on line 129
[06-Jun-2014 15:19:00 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\dbi\DBIMysqli.class.php on line 285
[06-Jun-2014 15:21:04 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\List.class.php on line 8
[06-Jun-2014 15:32:36 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\js\get_scripts.js.php on line 37
[06-Jun-2014 15:37:56 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\dbi\DBIMysqli.class.php on line 285
[06-Jun-2014 15:38:42 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\dbi\DBIMysqli.class.php on line 285
[06-Jun-2014 15:56:37 Europe/Berlin] PHP Notice:  Undefined index: email in K:\xampp\htdocs\login.php on line 76
[06-Jun-2014 19:02:27 Europe/Berlin] PHP Warning:  mysql_connect(): No connection could be made because the target machine actively refused it.
 in K:\xampp\htdocs\login.php on line 12
[06-Jun-2014 19:47:18 Europe/Berlin] PHP Warning:  mysql_connect(): No connection could be made because the target machine actively refused it.
 in K:\xampp\htdocs\index.php on line 15
[06-Jun-2014 21:35:38 Europe/Berlin] PHP Notice:  Undefined index: email in K:\xampp\htdocs\login.php on line 77
[06-Jun-2014 21:35:39 Europe/Berlin] PHP Notice:  Use of undefined constant ID_my_site - assumed 'ID_my_site' in K:\xampp\htdocs\login.php on line 126
[06-Jun-2014 21:35:39 Europe/Berlin] PHP Notice:  Use of undefined constant Key_my_site - assumed 'Key_my_site' in K:\xampp\htdocs\login.php on line 128
[06-Jun-2014 19:51:45 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\functions.php on line 3888
[06-Jun-2014 21:39:01 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\wp-db.php on line 716
[06-Jun-2014 21:39:01 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\wp-db.php on line 716
[06-Jun-2014 21:41:02 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-settings.php on line 127
[06-Jun-2014 21:54:45 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-content\plugins\akismet\class.akismet-widget.php on line 5
[06-Jun-2014 21:55:55 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\feed.php on line 25
[06-Jun-2014 22:11:45 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\media.php on line 36
[06-Jun-2014 22:11:45 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\canonical.php on line 39
[06-Jun-2014 22:22:04 UTC] PHP Warning:  An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="https://wordpress.org/support/">support forums</a>. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\plugin-install.php on line 77
[06-Jun-2014 22:25:38 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/random-youtube-video.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[06-Jun-2014 22:25:44 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/random-youtube-video.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[06-Jun-2014 22:26:29 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\widgets.php on line 24
[06-Jun-2014 22:30:41 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\taxonomy.php on line 21
[06-Jun-2014 22:32:38 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\post-formats.php on line 17
[06-Jun-2014 22:34:42 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\feed.php on line 25
[06-Jun-2014 22:36:40 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\nav-menu.php on line 21
[06-Jun-2014 22:40:07 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\load.php on line 510
[06-Jun-2014 22:50:11 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\revision.php on line 23
[06-Jun-2014 22:54:03 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\general-template.php on line 24
[06-Jun-2014 23:46:50 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\admin-bar.php on line 18
[06-Jun-2014 23:48:01 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\script-loader.php on line 25
[06-Jun-2014 23:49:19 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\formatting.php on line 1536
[06-Jun-2014 23:50:15 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\option.php on line 938
[06-Jun-2014 23:51:11 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\load.php on line 510
[06-Jun-2014 23:59:43 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/all-in-one-seo-pack.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[06-Jun-2014 23:59:44 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/all-in-one-seo-pack.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[06-Jun-2014 23:59:44 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/contact-form-7.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[06-Jun-2014 23:59:44 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/contact-form-7.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[06-Jun-2014 23:59:45 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/google-sitemap-generator.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[06-Jun-2014 23:59:45 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/google-sitemap-generator.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[06-Jun-2014 23:59:45 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/jetpack.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[06-Jun-2014 23:59:45 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/jetpack.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[06-Jun-2014 23:59:45 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/wptouch.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[06-Jun-2014 23:59:45 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/wptouch.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[06-Jun-2014 23:59:55 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/ro_RO.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[06-Jun-2014 23:59:55 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/ro_RO.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[07-Jun-2014 00:11:24 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\post-formats.php on line 17
[07-Jun-2014 00:14:11 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/all-in-one-seo-pack.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[07-Jun-2014 00:14:14 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/all-in-one-seo-pack.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[07-Jun-2014 00:14:14 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/contact-form-7.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[07-Jun-2014 00:14:14 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/contact-form-7.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[07-Jun-2014 00:14:14 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/google-sitemap-generator.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[07-Jun-2014 00:14:14 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/google-sitemap-generator.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[07-Jun-2014 00:14:15 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/jetpack.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[07-Jun-2014 00:14:15 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/jetpack.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[07-Jun-2014 00:14:15 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/wptouch.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[07-Jun-2014 00:14:15 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/wptouch.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[07-Jun-2014 00:14:20 UTC] PHP Warning:  touch(): Unable to create file E:/xampp/apps/wordpress/tmp/ro_RO.tmp because No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 155
[07-Jun-2014 00:14:21 UTC] PHP Warning:  unlink(E:/xampp/apps/wordpress/tmp/ro_RO.tmp): No such file or directory in K:\xampp\apps\wordpress\htdocs\wp-admin\includes\file.php on line 500
[07-Jun-2014 03:46:13 Europe/Berlin] PHP Fatal error:  Call to a member function fetchAll() on a non-object in K:\xampp\apps\tiki\htdocs\lib\core\TikiDb\Bridge.php on line 32
[07-Jun-2014 01:55:07 UTC] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\general-template.php on line 24
[07-Jun-2014 02:25:24 UTC] PHP Warning:  strpos() expects parameter 1 to be string, array given in K:\xampp\apps\wordpress\htdocs\wp-includes\shortcodes.php on line 193
[07-Jun-2014 02:25:29 UTC] PHP Warning:  strpos() expects parameter 1 to be string, array given in K:\xampp\apps\wordpress\htdocs\wp-includes\shortcodes.php on line 193
[08-Jun-2014 21:46:09 Europe/Berlin] PHP Notice:  Use of undefined constant OAUTH_CALLBACK - assumed 'OAUTH_CALLBACK' in K:\xampp\htdocs\TTP\index.php on line 5
[08-Jun-2014 21:56:50 Europe/Berlin] PHP Fatal error:  Class 'TwitterOAuth' not found in K:\xampp\htdocs\TTP\index.php on line 4
[08-Jun-2014 22:01:17 Europe/Berlin] PHP Parse error:  syntax error, unexpected 'lpVwkzLiQwrNcaiG5GoH3yv77' (T_STRING) in K:\xampp\htdocs\TTP\index.php on line 3
[08-Jun-2014 22:02:49 Europe/Berlin] PHP Parse error:  syntax error, unexpected 'acosfportalheader' (T_STRING) in K:\xampp\htdocs\TTP\index.php on line 10
[08-Jun-2014 22:02:51 Europe/Berlin] PHP Parse error:  syntax error, unexpected 'acosfportalheader' (T_STRING) in K:\xampp\htdocs\TTP\index.php on line 10
[08-Jun-2014 22:02:52 Europe/Berlin] PHP Parse error:  syntax error, unexpected 'acosfportalheader' (T_STRING) in K:\xampp\htdocs\TTP\index.php on line 10
[08-Jun-2014 22:02:52 Europe/Berlin] PHP Parse error:  syntax error, unexpected 'acosfportalheader' (T_STRING) in K:\xampp\htdocs\TTP\index.php on line 10
[08-Jun-2014 22:02:53 Europe/Berlin] PHP Parse error:  syntax error, unexpected 'acosfportalheader' (T_STRING) in K:\xampp\htdocs\TTP\index.php on line 10
[08-Jun-2014 22:02:53 Europe/Berlin] PHP Parse error:  syntax error, unexpected 'acosfportalheader' (T_STRING) in K:\xampp\htdocs\TTP\index.php on line 10
[08-Jun-2014 22:02:53 Europe/Berlin] PHP Parse error:  syntax error, unexpected 'acosfportalheader' (T_STRING) in K:\xampp\htdocs\TTP\index.php on line 10
[08-Jun-2014 22:22:28 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\vendor_config.php on line 12
[08-Jun-2014 22:23:42 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\php-gettext\gettext.inc on line 214
[08-Jun-2014 22:25:26 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\dbi\DBIMysqli.class.php on line 285
[08-Jun-2014 22:28:04 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\dbi\DBIMysqli.class.php on line 285
[08-Jun-2014 22:28:05 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\session.inc.php on line 108
[08-Jun-2014 22:32:48 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\dbi\DBIMysqli.class.php on line 285
[08-Jun-2014 22:32:49 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\phpMyAdmin\libraries\session.inc.php on line 108
[08-Jun-2014 23:54:02 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\default-constants.php on line 51
[09-Jun-2014 00:01:17 Europe/Berlin] PHP Fatal error:  Maximum execution time of 30 seconds exceeded in K:\xampp\apps\wordpress\htdocs\wp-includes\load.php on line 17
[09-Jun-2014 16:29:05 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[09-Jun-2014 16:29:06 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[09-Jun-2014 16:29:10 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[09-Jun-2014 16:37:52 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[09-Jun-2014 16:38:51 UTC] PHP Warning:  An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="https://wordpress.org/support/">support forums</a>. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in E:\xampp\apps\wordpress\htdocs\wp-admin\includes\plugin-install.php on line 77
[09-Jun-2014 16:39:04 UTC] PHP Warning:  An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="https://wordpress.org/support/">support forums</a>. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in E:\xampp\apps\wordpress\htdocs\wp-admin\includes\plugin-install.php on line 77
[09-Jun-2014 16:39:40 UTC] PHP Warning:  An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="https://wordpress.org/support/">support forums</a>. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in E:\xampp\apps\wordpress\htdocs\wp-admin\includes\plugin-install.php on line 77
[09-Jun-2014 16:39:59 UTC] PHP Warning:  An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="https://wordpress.org/support/">support forums</a>. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in E:\xampp\apps\wordpress\htdocs\wp-admin\includes\plugin-install.php on line 77
[09-Jun-2014 17:01:11 UTC] PHP Warning:  An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="https://wordpress.org/support/">support forums</a>. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in E:\xampp\apps\wordpress\htdocs\wp-admin\includes\plugin-install.php on line 77
[09-Jun-2014 17:04:36 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[09-Jun-2014 19:50:20 Europe/Berlin] PHP Warning:  file_get_contents(lang.tmp): failed to open stream: No such file or directory in E:\xampp\htdocs\xampp\index.php on line 2
[09-Jun-2014 20:00:33 Europe/Berlin] PHP Parse error:  syntax error, unexpected ',' in E:\xampp\phpMyAdmin\libraries\Advisor.class.php(343) : eval()'d code on line 1
[09-Jun-2014 20:00:33 Europe/Berlin] PHP Parse error:  syntax error, unexpected ',' in E:\xampp\phpMyAdmin\libraries\Advisor.class.php(343) : eval()'d code on line 1
[09-Jun-2014 20:01:43 Europe/Berlin] PHP Parse error:  syntax error, unexpected ',' in E:\xampp\phpMyAdmin\libraries\Advisor.class.php(343) : eval()'d code on line 1
[09-Jun-2014 20:01:43 Europe/Berlin] PHP Parse error:  syntax error, unexpected ',' in E:\xampp\phpMyAdmin\libraries\Advisor.class.php(343) : eval()'d code on line 1
[10-Jun-2014 00:45:48 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library 'E:\xampp\php\ext\php_pdo_sqlite.dll' -  in Unknown on line 0
[10-Jun-2014 00:45:51 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library 'E:\xampp\php\ext\php_sqlite3.dll' - The paging file is too small for this operation to complete.
 in Unknown on line 0
[10-Jun-2014 15:08:40 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: NO) in E:\xampp\htdocs\login.php on line 13
[10-Jun-2014 15:08:44 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: NO) in E:\xampp\htdocs\login.php on line 13
[10-Jun-2014 15:08:45 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: NO) in E:\xampp\htdocs\login.php on line 13
[10-Jun-2014 18:48:15 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: NO) in E:\xampp\htdocs\login.php on line 13
[10-Jun-2014 18:48:24 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\moodle\htdocs\config.php on line 20
[10-Jun-2014 18:49:48 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\moodle\htdocs\config.php on line 20
[10-Jun-2014 18:49:50 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\moodle\htdocs\config.php on line 20
[10-Jun-2014 18:51:07 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/2002): No connection could be made because the target machine actively refused it.
 in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:51:18 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/2002): No connection could be made because the target machine actively refused it.
 in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:51:44 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\moodle\htdocs\config.php on line 20
[10-Jun-2014 18:51:46 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/2002): No connection could be made because the target machine actively refused it.
 in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:52:10 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\moodle\htdocs\config.php on line 20
[10-Jun-2014 18:52:11 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:52:29 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:53:08 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:53:12 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\moodle\htdocs\config.php on line 20
[10-Jun-2014 18:53:13 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:54:01 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\moodle\htdocs\config.php on line 19
[10-Jun-2014 18:54:02 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:57:56 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\moodle\htdocs\config.php on line 19
[10-Jun-2014 18:57:58 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:58:07 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\moodle\htdocs\config.php on line 19
[10-Jun-2014 18:58:08 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:58:17 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:58:29 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 18:59:05 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[10-Jun-2014 19:01:43 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1045): Access denied for user 'bn_moodle'@'localhost' (using password: YES) in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[11-Jun-2014 00:51:49 Europe/Berlin] Default exception handler: DDL sql execution error Debug: Table '`bitnami_moodle`.`mdl_config`' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    oldvalue LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim_ix (timemodified)
, KEY mdl_conflog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    version VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    targetversion VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    details LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim_ix (timemodified)
, KEY mdl_upgrlog_typtim_ix (type, timemodified)
, KEY mdl_upgrlog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou_ix (course)
, KEY mdl_courcompaggrmeth_cri_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_coucr_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou_ix (course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use_ix (userid)
, KEY mdl_courcompcritcomp_cou_ix (course)
, KEY mdl_courcompcritcomp_cri_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_useco_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use_ix (userid)
, KEY mdl_courcomp_cou_ix (course)
, KEY mdl_courcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion records'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    cost VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci,
    currency VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_general_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar2 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar3 VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr_ix (enrol)
, KEY mdl_enro_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse_uix (enrolid, userid)
, KEY mdl_userenro_enr_ix (enrolid)
, KEY mdl_userenro_use_ix (userid)
, KEY mdl_userenro_mod_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupmembersonly SMALLINT(4) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis_ix (visible)
, KEY mdl_courmodu_cou_ix (course)
, KEY mdl_courmodu_mod_ix (module)
, KEY mdl_courmodu_ins_ix (instance)
, KEY mdl_courmodu_idncou_ix (idnumber, course)
, KEY mdl_courmodu_gro_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    viewed TINYINT(1),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforsec_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil_uix (contextid, filter)
, KEY mdl_filtacti_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    modulename VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_grocouvisuse_ix (groupid, courseid, visible, userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd5_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact_ix (course, module, action)
, KEY mdl_log_tim_ix (time)
, KEY mdl_log_act_ix (action)
, KEY mdl_log_usecou_ix (userid, course)
, KEY mdl_log_cmi_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sqlparams LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    field VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_use_ix (useridfrom)
, KEY mdl_mess_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_use_ix (useridfrom)
, KEY mdl_messread_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contactid BIGINT(10) NOT NULL DEFAULT 0,
    blocked TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon_uix (userid, contactid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Maintains lists of relationships between users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta_ix (state)
, UNIQUE KEY mdl_sess_sid_uix (sid)
, KEY mdl_sess_tim_ix (timecreated)
, KEY mdl_sess_tim2_ix (timemodified)
, KEY mdl_sess_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_timezone (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    year BIGINT(11) NOT NULL DEFAULT 0,
    tzrule VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    gmtoff BIGINT(11) NOT NULL DEFAULT 0,
    dstoff BIGINT(11) NOT NULL DEFAULT 0,
    dst_month TINYINT(2) NOT NULL DEFAULT 0,
    dst_startday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    dst_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
    std_month TINYINT(2) NOT NULL DEFAULT 0,
    std_startday SMALLINT(3) NOT NULL DEFAULT 0,
    std_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    std_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    std_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Rules for calculating local wall clock time for users'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    icq VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    skype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    yahoo VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aim VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    msn VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone1 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    department VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    address VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    city VARCHAR(120) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    country VARCHAR(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    firstnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    middlename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    alternatename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou_uix (userid, courseid)
, KEY mdl_userlast_use_ix (userid)
, KEY mdl_userlast_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act_ix (action)
, KEY mdl_scalhist_old_ix (oldid)
, KEY mdl_scalhist_cou_ix (courseid)
, KEY mdl_scalhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou_ix (courseid)
, KEY mdl_statdail_tim_ix (timeend)
, KEY mdl_statdail_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou_ix (courseid)
, KEY mdl_statweek_tim_ix (timeend)
, KEY mdl_statweek_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou_ix (courseid)
, KEY mdl_statmont_tim_ix (timeend)
, KEY mdl_statmont_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou_ix (courseid)
, KEY mdl_statuserdail_use_ix (userid)
, KEY mdl_statuserdail_rol_ix (roleid)
, KEY mdl_statuserdail_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou_ix (courseid)
, KEY mdl_statuserweek_use_ix (userid)
, KEY mdl_statuserweek_rol_ix (roleid)
, KEY mdl_statuserweek_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou_ix (courseid)
, KEY mdl_statusermont_use_ix (userid)
, KEY mdl_statusermont_rol_ix (roleid)
, KEY mdl_statusermont_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    uniquehash VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    publishstate VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse_uix (id, userid)
, KEY mdl_post_las_ix (lastmodified)
, KEY mdl_post_mod_ix (module)
, KEY mdl_post_sub_ix (subject)
, KEY mdl_post_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor_uix (sortorder)
, UNIQUE KEY mdl_role_sho_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol_ix (roleid)
, KEY mdl_rolealloassi_all_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol_ix (roleid)
, KEY mdl_rolealloover_all_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol_ix (roleid)
, KEY mdl_rolealloswit_all_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor_ix (sortorder)
, KEY mdl_roleassi_rolcon_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse_ix (component, itemid, userid)
, KEY mdl_roleassi_rol_ix (roleid)
, KEY mdl_roleassi_con_ix (contextid)
, KEY mdl_roleassi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon_uix (roleid, contextid)
, KEY mdl_rolename_rol_ix (roleid)
, KEY mdl_rolename_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_sortorder (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    roleid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sortoder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolesort_userolcon_uix (userid, roleid, contextid)
, KEY mdl_rolesort_use_ix (userid)
, KEY mdl_rolesort_rol_ix (roleid)
, KEY mdl_rolesort_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='sort order of course managers in a course'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    datatype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param5 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hidden TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_cat_ix (category)
, KEY mdl_ques_par_ix (parent)
, KEY mdl_ques_cre_ix (createdby)
, KEY mdl_ques_mod_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The questions themselves'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que_ix (question)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    rightanswer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    responsesummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo_uix (questionusageid, slot)
, KEY mdl_quesatte_que_ix (questionid)
, KEY mdl_quesatte_que2_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que_ix (questionattemptid)
, KEY mdl_quesattestep_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestepdata_attna_uix (attemptstepid, name)
, KEY mdl_quesattestepdata_att_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    response LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    public_key LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_app_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    profile LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filename VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    token VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneuse_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    stackdump LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    schedule VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que_ix (queuedeventid)
, KEY mdl_evenqueuhand_han_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou_ix (courseid)
, KEY mdl_gradoutccour_out_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou_ix (courseid)
, KEY mdl_gradcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc_ix (locked, locktime)
, KEY mdl_gradgrad_ite_ix (itemid)
, KEY mdl_gradgrad_use_ix (userid)
, KEY mdl_gradgrad_raw_ix (rawscaleid)
, KEY mdl_gradgrad_use2_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act_ix (action)
, KEY mdl_gradoutchist_old_ix (oldid)
, KEY mdl_gradoutchist_cou_ix (courseid)
, KEY mdl_gradoutchist_sca_ix (scaleid)
, KEY mdl_gradoutchist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act_ix (action)
, KEY mdl_gradcatehist_old_ix (oldid)
, KEY mdl_gradcatehist_cou_ix (courseid)
, KEY mdl_gradcatehist_par_ix (parent)
, KEY mdl_gradcatehist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act_ix (action)
, KEY mdl_graditemhist_old_ix (oldid)
, KEY mdl_graditemhist_cou_ix (courseid)
, KEY mdl_graditemhist_cat_ix (categoryid)
, KEY mdl_graditemhist_sca_ix (scaleid)
, KEY mdl_graditemhist_out_ix (outcomeid)
, KEY mdl_graditemhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act_ix (action)
, KEY mdl_gradgradhist_tim_ix (timemodified)
, KEY mdl_gradgradhist_old_ix (oldid)
, KEY mdl_gradgradhist_ite_ix (itemid)
, KEY mdl_gradgradhist_use_ix (userid)
, KEY mdl_gradgradhist_raw_ix (rawscaleid)
, KEY mdl_gradgradhist_use2_ix (usermodified)
, KEY mdl_gradgradhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite_ix (itemid)
, KEY mdl_gradimpovalu_new_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_nam_uix (name)
, UNIQUE KEY mdl_tag_idnam_uix (id, name)
, KEY mdl_tag_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_iteitetagtiu_uix (itemtype, itemid, tagid, tiuserid)
, KEY mdl_taginst_tag_ix (tagid)
, KEY mdl_taginst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    hidepicture TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn_ix (idnumber)
, KEY mdl_grou_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro_ix (groupid)
, KEY mdl_groumemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro_ix (groupingid)
, KEY mdl_grougrou_gro2_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse_uix (cohortid, userid)
, KEY mdl_cohomemb_coh_ix (cohortid)
, KEY mdl_cohomemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval_ix (script, value)
, KEY mdl_userprivkey_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_webdav_locks (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expiry BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    recursive TINYINT(1) NOT NULL DEFAULT 0,
    exclusivelock TINYINT(1) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    modified BIGINT(10) NOT NULL DEFAULT 0,
    owner VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_webdlock_pat_ix (path)
, KEY mdl_webdlock_exp_ix (expiry)
, UNIQUE KEY mdl_webdlock_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Resource locks for WebDAV users'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins_ix (instance)
, KEY mdl_portinstuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    caller_sha1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use_ix (userid)
, KEY mdl_portlog_por_ix (portfolio)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use_ix (userid)
, KEY mdl_porttemp_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_message_working (
    id BIGINT(10) NOT NULL auto_increment,
    unreadmessageid BIGINT(10) NOT NULL,
    processorid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messwork_unr_ix (unreadmessageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists all the messages and processors that need to be proces'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    author VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    license VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    referencehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_repref_uix (repositoryid, referencehash)
, KEY mdl_filerefe_rep_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store files references'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    pagetypepattern VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultregion VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_par_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo_ix (blockinstanceid)
, KEY mdl_blocposi_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    commentarea VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext_ix (externalserviceid)
, KEY mdl_exteservuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_use_ix (userid)
, KEY mdl_extetoke_ext_ix (externalserviceid)
, KEY mdl_extetoke_con_ix (contextid)
, KEY mdl_extetoke_cre_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con_ix (contextid)
, KEY mdl_blogasso_blo_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    url LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filtertags VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con_ix (contextid)
, KEY mdl_rati_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    controller LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite_ix (type, itemid)
, UNIQUE KEY mdl_backcont_bac_uix (backupid)
, KEY mdl_backcont_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid_uix (backupid, id)
, KEY mdl_backlogs_bac_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare_uix (contextid, component, areaname)
, KEY mdl_gradarea_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are_ix (areaid)
, KEY mdl_graddefi_use_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet_uix (areaid, method)
, KEY mdl_graddefi_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def_ix (definitionid)
, KEY mdl_gradinst_rat_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    messagesubject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse_uix (badgeid, userid)
, KEY mdl_badgissu_bad_ix (badgeid)
, KEY mdl_badgissu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri_ix (critid)
, KEY mdl_badgcritmet_use_ix (userid)
, KEY mdl_badgcritmet_iss_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad_ix (badgeid)
, KEY mdl_badgmanuawar_rec_ix (recipientid)
, KEY mdl_badgmanuawar_iss_ix (issuerid)
, KEY mdl_badgmanuawar_iss2_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    model VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, UNIQUE KEY mdl_userdevi_puspla_uix (pushid, platform)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    blocking TINYINT(2) NOT NULL DEFAULT 0,
    minute VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hour VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    day VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    month VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    blocking TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex_ix (nextruntime)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of adhoc tasks waiting to run.'
Error code: ddlexecuteerror
* line 449 of \lib\dml\moodle_database.php: ddl_change_structure_exception thrown
* line 839 of \lib\dml\mysqli_native_moodle_database.php: call to moodle_database->query_end()
* line 76 of \lib\ddl\database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 412 of \lib\ddl\database_manager.php: call to database_manager->execute_sql_arr()
* line 364 of \lib\ddl\database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1498 of \lib\upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 476 of \lib\installlib.php: call to install_core()
* line 762 of \admin\cli\install.php: call to install_cli_database()

[11-Jun-2014 01:09:49 Europe/Berlin] Default exception handler: DDL sql execution error Debug: Table '`bitnami_moodle`.`mdl_config`' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    oldvalue LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim_ix (timemodified)
, KEY mdl_conflog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    version VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    targetversion VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    details LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim_ix (timemodified)
, KEY mdl_upgrlog_typtim_ix (type, timemodified)
, KEY mdl_upgrlog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou_ix (course)
, KEY mdl_courcompaggrmeth_cri_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_coucr_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou_ix (course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use_ix (userid)
, KEY mdl_courcompcritcomp_cou_ix (course)
, KEY mdl_courcompcritcomp_cri_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_useco_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use_ix (userid)
, KEY mdl_courcomp_cou_ix (course)
, KEY mdl_courcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion records'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    cost VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci,
    currency VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_general_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar2 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar3 VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr_ix (enrol)
, KEY mdl_enro_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse_uix (enrolid, userid)
, KEY mdl_userenro_enr_ix (enrolid)
, KEY mdl_userenro_use_ix (userid)
, KEY mdl_userenro_mod_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupmembersonly SMALLINT(4) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis_ix (visible)
, KEY mdl_courmodu_cou_ix (course)
, KEY mdl_courmodu_mod_ix (module)
, KEY mdl_courmodu_ins_ix (instance)
, KEY mdl_courmodu_idncou_ix (idnumber, course)
, KEY mdl_courmodu_gro_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    viewed TINYINT(1),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforsec_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil_uix (contextid, filter)
, KEY mdl_filtacti_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    modulename VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_grocouvisuse_ix (groupid, courseid, visible, userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd5_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact_ix (course, module, action)
, KEY mdl_log_tim_ix (time)
, KEY mdl_log_act_ix (action)
, KEY mdl_log_usecou_ix (userid, course)
, KEY mdl_log_cmi_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sqlparams LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    field VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_use_ix (useridfrom)
, KEY mdl_mess_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_use_ix (useridfrom)
, KEY mdl_messread_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contactid BIGINT(10) NOT NULL DEFAULT 0,
    blocked TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon_uix (userid, contactid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Maintains lists of relationships between users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta_ix (state)
, UNIQUE KEY mdl_sess_sid_uix (sid)
, KEY mdl_sess_tim_ix (timecreated)
, KEY mdl_sess_tim2_ix (timemodified)
, KEY mdl_sess_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_timezone (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    year BIGINT(11) NOT NULL DEFAULT 0,
    tzrule VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    gmtoff BIGINT(11) NOT NULL DEFAULT 0,
    dstoff BIGINT(11) NOT NULL DEFAULT 0,
    dst_month TINYINT(2) NOT NULL DEFAULT 0,
    dst_startday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    dst_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
    std_month TINYINT(2) NOT NULL DEFAULT 0,
    std_startday SMALLINT(3) NOT NULL DEFAULT 0,
    std_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    std_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    std_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Rules for calculating local wall clock time for users'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    icq VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    skype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    yahoo VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aim VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    msn VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone1 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    department VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    address VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    city VARCHAR(120) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    country VARCHAR(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    firstnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    middlename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    alternatename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou_uix (userid, courseid)
, KEY mdl_userlast_use_ix (userid)
, KEY mdl_userlast_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act_ix (action)
, KEY mdl_scalhist_old_ix (oldid)
, KEY mdl_scalhist_cou_ix (courseid)
, KEY mdl_scalhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou_ix (courseid)
, KEY mdl_statdail_tim_ix (timeend)
, KEY mdl_statdail_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou_ix (courseid)
, KEY mdl_statweek_tim_ix (timeend)
, KEY mdl_statweek_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou_ix (courseid)
, KEY mdl_statmont_tim_ix (timeend)
, KEY mdl_statmont_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou_ix (courseid)
, KEY mdl_statuserdail_use_ix (userid)
, KEY mdl_statuserdail_rol_ix (roleid)
, KEY mdl_statuserdail_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou_ix (courseid)
, KEY mdl_statuserweek_use_ix (userid)
, KEY mdl_statuserweek_rol_ix (roleid)
, KEY mdl_statuserweek_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou_ix (courseid)
, KEY mdl_statusermont_use_ix (userid)
, KEY mdl_statusermont_rol_ix (roleid)
, KEY mdl_statusermont_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    uniquehash VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    publishstate VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse_uix (id, userid)
, KEY mdl_post_las_ix (lastmodified)
, KEY mdl_post_mod_ix (module)
, KEY mdl_post_sub_ix (subject)
, KEY mdl_post_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor_uix (sortorder)
, UNIQUE KEY mdl_role_sho_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol_ix (roleid)
, KEY mdl_rolealloassi_all_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol_ix (roleid)
, KEY mdl_rolealloover_all_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol_ix (roleid)
, KEY mdl_rolealloswit_all_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor_ix (sortorder)
, KEY mdl_roleassi_rolcon_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse_ix (component, itemid, userid)
, KEY mdl_roleassi_rol_ix (roleid)
, KEY mdl_roleassi_con_ix (contextid)
, KEY mdl_roleassi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon_uix (roleid, contextid)
, KEY mdl_rolename_rol_ix (roleid)
, KEY mdl_rolename_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_sortorder (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    roleid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sortoder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolesort_userolcon_uix (userid, roleid, contextid)
, KEY mdl_rolesort_use_ix (userid)
, KEY mdl_rolesort_rol_ix (roleid)
, KEY mdl_rolesort_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='sort order of course managers in a course'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    datatype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param5 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hidden TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_cat_ix (category)
, KEY mdl_ques_par_ix (parent)
, KEY mdl_ques_cre_ix (createdby)
, KEY mdl_ques_mod_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The questions themselves'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que_ix (question)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    rightanswer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    responsesummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo_uix (questionusageid, slot)
, KEY mdl_quesatte_que_ix (questionid)
, KEY mdl_quesatte_que2_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que_ix (questionattemptid)
, KEY mdl_quesattestep_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestepdata_attna_uix (attemptstepid, name)
, KEY mdl_quesattestepdata_att_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    response LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    public_key LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_app_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    profile LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filename VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    token VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneuse_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    stackdump LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    schedule VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que_ix (queuedeventid)
, KEY mdl_evenqueuhand_han_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou_ix (courseid)
, KEY mdl_gradoutccour_out_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou_ix (courseid)
, KEY mdl_gradcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc_ix (locked, locktime)
, KEY mdl_gradgrad_ite_ix (itemid)
, KEY mdl_gradgrad_use_ix (userid)
, KEY mdl_gradgrad_raw_ix (rawscaleid)
, KEY mdl_gradgrad_use2_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act_ix (action)
, KEY mdl_gradoutchist_old_ix (oldid)
, KEY mdl_gradoutchist_cou_ix (courseid)
, KEY mdl_gradoutchist_sca_ix (scaleid)
, KEY mdl_gradoutchist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act_ix (action)
, KEY mdl_gradcatehist_old_ix (oldid)
, KEY mdl_gradcatehist_cou_ix (courseid)
, KEY mdl_gradcatehist_par_ix (parent)
, KEY mdl_gradcatehist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act_ix (action)
, KEY mdl_graditemhist_old_ix (oldid)
, KEY mdl_graditemhist_cou_ix (courseid)
, KEY mdl_graditemhist_cat_ix (categoryid)
, KEY mdl_graditemhist_sca_ix (scaleid)
, KEY mdl_graditemhist_out_ix (outcomeid)
, KEY mdl_graditemhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act_ix (action)
, KEY mdl_gradgradhist_tim_ix (timemodified)
, KEY mdl_gradgradhist_old_ix (oldid)
, KEY mdl_gradgradhist_ite_ix (itemid)
, KEY mdl_gradgradhist_use_ix (userid)
, KEY mdl_gradgradhist_raw_ix (rawscaleid)
, KEY mdl_gradgradhist_use2_ix (usermodified)
, KEY mdl_gradgradhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite_ix (itemid)
, KEY mdl_gradimpovalu_new_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_nam_uix (name)
, UNIQUE KEY mdl_tag_idnam_uix (id, name)
, KEY mdl_tag_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_iteitetagtiu_uix (itemtype, itemid, tagid, tiuserid)
, KEY mdl_taginst_tag_ix (tagid)
, KEY mdl_taginst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    hidepicture TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn_ix (idnumber)
, KEY mdl_grou_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro_ix (groupid)
, KEY mdl_groumemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro_ix (groupingid)
, KEY mdl_grougrou_gro2_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse_uix (cohortid, userid)
, KEY mdl_cohomemb_coh_ix (cohortid)
, KEY mdl_cohomemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval_ix (script, value)
, KEY mdl_userprivkey_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_webdav_locks (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expiry BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    recursive TINYINT(1) NOT NULL DEFAULT 0,
    exclusivelock TINYINT(1) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    modified BIGINT(10) NOT NULL DEFAULT 0,
    owner VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_webdlock_pat_ix (path)
, KEY mdl_webdlock_exp_ix (expiry)
, UNIQUE KEY mdl_webdlock_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Resource locks for WebDAV users'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins_ix (instance)
, KEY mdl_portinstuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    caller_sha1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use_ix (userid)
, KEY mdl_portlog_por_ix (portfolio)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use_ix (userid)
, KEY mdl_porttemp_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_message_working (
    id BIGINT(10) NOT NULL auto_increment,
    unreadmessageid BIGINT(10) NOT NULL,
    processorid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messwork_unr_ix (unreadmessageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists all the messages and processors that need to be proces'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    author VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    license VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    referencehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_repref_uix (repositoryid, referencehash)
, KEY mdl_filerefe_rep_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store files references'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    pagetypepattern VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultregion VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_par_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo_ix (blockinstanceid)
, KEY mdl_blocposi_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    commentarea VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext_ix (externalserviceid)
, KEY mdl_exteservuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_use_ix (userid)
, KEY mdl_extetoke_ext_ix (externalserviceid)
, KEY mdl_extetoke_con_ix (contextid)
, KEY mdl_extetoke_cre_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con_ix (contextid)
, KEY mdl_blogasso_blo_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    url LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filtertags VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con_ix (contextid)
, KEY mdl_rati_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    controller LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite_ix (type, itemid)
, UNIQUE KEY mdl_backcont_bac_uix (backupid)
, KEY mdl_backcont_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid_uix (backupid, id)
, KEY mdl_backlogs_bac_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare_uix (contextid, component, areaname)
, KEY mdl_gradarea_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are_ix (areaid)
, KEY mdl_graddefi_use_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet_uix (areaid, method)
, KEY mdl_graddefi_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def_ix (definitionid)
, KEY mdl_gradinst_rat_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    messagesubject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse_uix (badgeid, userid)
, KEY mdl_badgissu_bad_ix (badgeid)
, KEY mdl_badgissu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri_ix (critid)
, KEY mdl_badgcritmet_use_ix (userid)
, KEY mdl_badgcritmet_iss_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad_ix (badgeid)
, KEY mdl_badgmanuawar_rec_ix (recipientid)
, KEY mdl_badgmanuawar_iss_ix (issuerid)
, KEY mdl_badgmanuawar_iss2_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    model VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, UNIQUE KEY mdl_userdevi_puspla_uix (pushid, platform)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    blocking TINYINT(2) NOT NULL DEFAULT 0,
    minute VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hour VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    day VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    month VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    blocking TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex_ix (nextruntime)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of adhoc tasks waiting to run.'
Error code: ddlexecuteerror
* line 449 of \lib\dml\moodle_database.php: ddl_change_structure_exception thrown
* line 839 of \lib\dml\mysqli_native_moodle_database.php: call to moodle_database->query_end()
* line 76 of \lib\ddl\database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 412 of \lib\ddl\database_manager.php: call to database_manager->execute_sql_arr()
* line 364 of \lib\ddl\database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1498 of \lib\upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 233 of \admin\index.php: call to install_core()

[11-Jun-2014 01:14:03 Europe/Berlin] Default exception handler: DDL sql execution error Debug: Table '`bitnami_moodle`.`mdl_config`' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    oldvalue LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim_ix (timemodified)
, KEY mdl_conflog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    version VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    targetversion VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    details LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim_ix (timemodified)
, KEY mdl_upgrlog_typtim_ix (type, timemodified)
, KEY mdl_upgrlog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou_ix (course)
, KEY mdl_courcompaggrmeth_cri_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_coucr_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou_ix (course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use_ix (userid)
, KEY mdl_courcompcritcomp_cou_ix (course)
, KEY mdl_courcompcritcomp_cri_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_useco_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use_ix (userid)
, KEY mdl_courcomp_cou_ix (course)
, KEY mdl_courcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion records'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    cost VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci,
    currency VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_general_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar2 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar3 VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr_ix (enrol)
, KEY mdl_enro_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse_uix (enrolid, userid)
, KEY mdl_userenro_enr_ix (enrolid)
, KEY mdl_userenro_use_ix (userid)
, KEY mdl_userenro_mod_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupmembersonly SMALLINT(4) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis_ix (visible)
, KEY mdl_courmodu_cou_ix (course)
, KEY mdl_courmodu_mod_ix (module)
, KEY mdl_courmodu_ins_ix (instance)
, KEY mdl_courmodu_idncou_ix (idnumber, course)
, KEY mdl_courmodu_gro_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    viewed TINYINT(1),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforsec_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil_uix (contextid, filter)
, KEY mdl_filtacti_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    modulename VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_grocouvisuse_ix (groupid, courseid, visible, userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd5_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact_ix (course, module, action)
, KEY mdl_log_tim_ix (time)
, KEY mdl_log_act_ix (action)
, KEY mdl_log_usecou_ix (userid, course)
, KEY mdl_log_cmi_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sqlparams LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    field VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_use_ix (useridfrom)
, KEY mdl_mess_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_use_ix (useridfrom)
, KEY mdl_messread_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contactid BIGINT(10) NOT NULL DEFAULT 0,
    blocked TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon_uix (userid, contactid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Maintains lists of relationships between users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta_ix (state)
, UNIQUE KEY mdl_sess_sid_uix (sid)
, KEY mdl_sess_tim_ix (timecreated)
, KEY mdl_sess_tim2_ix (timemodified)
, KEY mdl_sess_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_timezone (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    year BIGINT(11) NOT NULL DEFAULT 0,
    tzrule VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    gmtoff BIGINT(11) NOT NULL DEFAULT 0,
    dstoff BIGINT(11) NOT NULL DEFAULT 0,
    dst_month TINYINT(2) NOT NULL DEFAULT 0,
    dst_startday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    dst_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
    std_month TINYINT(2) NOT NULL DEFAULT 0,
    std_startday SMALLINT(3) NOT NULL DEFAULT 0,
    std_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    std_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    std_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Rules for calculating local wall clock time for users'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    icq VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    skype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    yahoo VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aim VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    msn VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone1 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    department VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    address VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    city VARCHAR(120) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    country VARCHAR(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    firstnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    middlename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    alternatename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou_uix (userid, courseid)
, KEY mdl_userlast_use_ix (userid)
, KEY mdl_userlast_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act_ix (action)
, KEY mdl_scalhist_old_ix (oldid)
, KEY mdl_scalhist_cou_ix (courseid)
, KEY mdl_scalhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou_ix (courseid)
, KEY mdl_statdail_tim_ix (timeend)
, KEY mdl_statdail_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou_ix (courseid)
, KEY mdl_statweek_tim_ix (timeend)
, KEY mdl_statweek_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou_ix (courseid)
, KEY mdl_statmont_tim_ix (timeend)
, KEY mdl_statmont_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou_ix (courseid)
, KEY mdl_statuserdail_use_ix (userid)
, KEY mdl_statuserdail_rol_ix (roleid)
, KEY mdl_statuserdail_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou_ix (courseid)
, KEY mdl_statuserweek_use_ix (userid)
, KEY mdl_statuserweek_rol_ix (roleid)
, KEY mdl_statuserweek_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou_ix (courseid)
, KEY mdl_statusermont_use_ix (userid)
, KEY mdl_statusermont_rol_ix (roleid)
, KEY mdl_statusermont_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    uniquehash VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    publishstate VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse_uix (id, userid)
, KEY mdl_post_las_ix (lastmodified)
, KEY mdl_post_mod_ix (module)
, KEY mdl_post_sub_ix (subject)
, KEY mdl_post_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor_uix (sortorder)
, UNIQUE KEY mdl_role_sho_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol_ix (roleid)
, KEY mdl_rolealloassi_all_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol_ix (roleid)
, KEY mdl_rolealloover_all_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol_ix (roleid)
, KEY mdl_rolealloswit_all_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor_ix (sortorder)
, KEY mdl_roleassi_rolcon_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse_ix (component, itemid, userid)
, KEY mdl_roleassi_rol_ix (roleid)
, KEY mdl_roleassi_con_ix (contextid)
, KEY mdl_roleassi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon_uix (roleid, contextid)
, KEY mdl_rolename_rol_ix (roleid)
, KEY mdl_rolename_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_sortorder (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    roleid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sortoder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolesort_userolcon_uix (userid, roleid, contextid)
, KEY mdl_rolesort_use_ix (userid)
, KEY mdl_rolesort_rol_ix (roleid)
, KEY mdl_rolesort_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='sort order of course managers in a course'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    datatype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param5 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hidden TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_cat_ix (category)
, KEY mdl_ques_par_ix (parent)
, KEY mdl_ques_cre_ix (createdby)
, KEY mdl_ques_mod_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The questions themselves'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que_ix (question)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    rightanswer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    responsesummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo_uix (questionusageid, slot)
, KEY mdl_quesatte_que_ix (questionid)
, KEY mdl_quesatte_que2_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que_ix (questionattemptid)
, KEY mdl_quesattestep_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestepdata_attna_uix (attemptstepid, name)
, KEY mdl_quesattestepdata_att_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    response LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    public_key LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_app_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    profile LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filename VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    token VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneuse_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    stackdump LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    schedule VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que_ix (queuedeventid)
, KEY mdl_evenqueuhand_han_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou_ix (courseid)
, KEY mdl_gradoutccour_out_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou_ix (courseid)
, KEY mdl_gradcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc_ix (locked, locktime)
, KEY mdl_gradgrad_ite_ix (itemid)
, KEY mdl_gradgrad_use_ix (userid)
, KEY mdl_gradgrad_raw_ix (rawscaleid)
, KEY mdl_gradgrad_use2_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act_ix (action)
, KEY mdl_gradoutchist_old_ix (oldid)
, KEY mdl_gradoutchist_cou_ix (courseid)
, KEY mdl_gradoutchist_sca_ix (scaleid)
, KEY mdl_gradoutchist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act_ix (action)
, KEY mdl_gradcatehist_old_ix (oldid)
, KEY mdl_gradcatehist_cou_ix (courseid)
, KEY mdl_gradcatehist_par_ix (parent)
, KEY mdl_gradcatehist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act_ix (action)
, KEY mdl_graditemhist_old_ix (oldid)
, KEY mdl_graditemhist_cou_ix (courseid)
, KEY mdl_graditemhist_cat_ix (categoryid)
, KEY mdl_graditemhist_sca_ix (scaleid)
, KEY mdl_graditemhist_out_ix (outcomeid)
, KEY mdl_graditemhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act_ix (action)
, KEY mdl_gradgradhist_tim_ix (timemodified)
, KEY mdl_gradgradhist_old_ix (oldid)
, KEY mdl_gradgradhist_ite_ix (itemid)
, KEY mdl_gradgradhist_use_ix (userid)
, KEY mdl_gradgradhist_raw_ix (rawscaleid)
, KEY mdl_gradgradhist_use2_ix (usermodified)
, KEY mdl_gradgradhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite_ix (itemid)
, KEY mdl_gradimpovalu_new_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_nam_uix (name)
, UNIQUE KEY mdl_tag_idnam_uix (id, name)
, KEY mdl_tag_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_iteitetagtiu_uix (itemtype, itemid, tagid, tiuserid)
, KEY mdl_taginst_tag_ix (tagid)
, KEY mdl_taginst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    hidepicture TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn_ix (idnumber)
, KEY mdl_grou_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro_ix (groupid)
, KEY mdl_groumemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro_ix (groupingid)
, KEY mdl_grougrou_gro2_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse_uix (cohortid, userid)
, KEY mdl_cohomemb_coh_ix (cohortid)
, KEY mdl_cohomemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval_ix (script, value)
, KEY mdl_userprivkey_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_webdav_locks (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expiry BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    recursive TINYINT(1) NOT NULL DEFAULT 0,
    exclusivelock TINYINT(1) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    modified BIGINT(10) NOT NULL DEFAULT 0,
    owner VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_webdlock_pat_ix (path)
, KEY mdl_webdlock_exp_ix (expiry)
, UNIQUE KEY mdl_webdlock_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Resource locks for WebDAV users'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins_ix (instance)
, KEY mdl_portinstuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    caller_sha1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use_ix (userid)
, KEY mdl_portlog_por_ix (portfolio)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use_ix (userid)
, KEY mdl_porttemp_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_message_working (
    id BIGINT(10) NOT NULL auto_increment,
    unreadmessageid BIGINT(10) NOT NULL,
    processorid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messwork_unr_ix (unreadmessageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists all the messages and processors that need to be proces'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    author VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    license VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    referencehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_repref_uix (repositoryid, referencehash)
, KEY mdl_filerefe_rep_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store files references'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    pagetypepattern VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultregion VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_par_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo_ix (blockinstanceid)
, KEY mdl_blocposi_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    commentarea VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext_ix (externalserviceid)
, KEY mdl_exteservuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_use_ix (userid)
, KEY mdl_extetoke_ext_ix (externalserviceid)
, KEY mdl_extetoke_con_ix (contextid)
, KEY mdl_extetoke_cre_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con_ix (contextid)
, KEY mdl_blogasso_blo_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    url LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filtertags VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con_ix (contextid)
, KEY mdl_rati_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    controller LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite_ix (type, itemid)
, UNIQUE KEY mdl_backcont_bac_uix (backupid)
, KEY mdl_backcont_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid_uix (backupid, id)
, KEY mdl_backlogs_bac_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare_uix (contextid, component, areaname)
, KEY mdl_gradarea_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are_ix (areaid)
, KEY mdl_graddefi_use_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet_uix (areaid, method)
, KEY mdl_graddefi_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def_ix (definitionid)
, KEY mdl_gradinst_rat_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    messagesubject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse_uix (badgeid, userid)
, KEY mdl_badgissu_bad_ix (badgeid)
, KEY mdl_badgissu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri_ix (critid)
, KEY mdl_badgcritmet_use_ix (userid)
, KEY mdl_badgcritmet_iss_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad_ix (badgeid)
, KEY mdl_badgmanuawar_rec_ix (recipientid)
, KEY mdl_badgmanuawar_iss_ix (issuerid)
, KEY mdl_badgmanuawar_iss2_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    model VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, UNIQUE KEY mdl_userdevi_puspla_uix (pushid, platform)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    blocking TINYINT(2) NOT NULL DEFAULT 0,
    minute VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hour VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    day VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    month VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    blocking TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex_ix (nextruntime)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of adhoc tasks waiting to run.'
Error code: ddlexecuteerror
* line 449 of \lib\dml\moodle_database.php: ddl_change_structure_exception thrown
* line 839 of \lib\dml\mysqli_native_moodle_database.php: call to moodle_database->query_end()
* line 76 of \lib\ddl\database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 412 of \lib\ddl\database_manager.php: call to database_manager->execute_sql_arr()
* line 364 of \lib\ddl\database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1498 of \lib\upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 233 of \admin\index.php: call to install_core()

[11-Jun-2014 01:33:52 Europe/Berlin] PHP Fatal error:  Maximum execution time of 60 seconds exceeded in E:\xampp\phpMyAdmin\libraries\dbi\DBIMysqli.class.php on line 285
[11-Jun-2014 01:38:59 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/ZkiK37zz2r.53979713000007.97891439.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 02:06:00 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1049): Unknown database 'bitnami_moodle' in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[11-Jun-2014 02:06:14 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1049): Unknown database 'bitnami_moodle' in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[11-Jun-2014 02:07:12 Europe/Berlin] PHP Fatal error:  Maximum execution time of 60 seconds exceeded in E:\xampp\phpMyAdmin\libraries\session.inc.php on line 108
[11-Jun-2014 02:13:45 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1044): Access denied for user 'bn_moodle'@'localhost' to database 'bitnami_moodle2' in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[11-Jun-2014 02:13:52 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1044): Access denied for user 'bn_moodle'@'localhost' to database 'bitnami_moodle2' in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[11-Jun-2014 02:17:56 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1044): Access denied for user 'bn_moodle'@'localhost' to database 'bitnami_moodle2' in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[11-Jun-2014 02:20:39 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1044): Access denied for user 'bn_moodle'@'localhost' to database 'bitnami_moodle2' in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[11-Jun-2014 02:22:54 Europe/Berlin] PHP Warning:  mysql_connect(): Access denied for user 'root'@'localhost' (using password: NO) in E:\xampp\htdocs\login.php on line 13
[11-Jun-2014 02:26:56 Europe/Berlin] Default exception handler: DDL sql execution error Debug: Table 'mdl_config_log' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    oldvalue LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim2_ix (timemodified)
, KEY mdl_conflog_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    version VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    targetversion VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    details LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim2_ix (timemodified)
, KEY mdl_upgrlog_typtim2_ix (type, timemodified)
, KEY mdl_upgrlog_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat2_ix (category)
, KEY mdl_cour_idn2_ix (idnumber)
, KEY mdl_cour_sho2_ix (shortname)
, KEY mdl_cour_sor2_ix (sortorder)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par2_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou2_ix (course)
, KEY mdl_courcompaggrmeth_cri2_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_couc2_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou2_ix (course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use2_ix (userid)
, KEY mdl_courcompcritcomp_cou2_ix (course)
, KEY mdl_courcompcritcomp_cri2_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim2_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_usec2_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use2_ix (userid)
, KEY mdl_courcomp_cou2_ix (course)
, KEY mdl_courcomp_tim2_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou2_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion records'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    cost VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci,
    currency VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_general_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar2 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar3 VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr2_ix (enrol)
, KEY mdl_enro_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse2_uix (enrolid, userid)
, KEY mdl_userenro_enr2_ix (enrolid)
, KEY mdl_userenro_use2_ix (userid)
, KEY mdl_userenro_mod2_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupmembersonly SMALLINT(4) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis2_ix (visible)
, KEY mdl_courmodu_cou2_ix (course)
, KEY mdl_courmodu_mod2_ix (module)
, KEY mdl_courmodu_ins2_ix (instance)
, KEY mdl_courmodu_idncou2_ix (idnumber, course)
, KEY mdl_courmodu_gro2_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    viewed TINYINT(1),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou2_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou2_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec2_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho2_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforse2_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil2_uix (contextid, filter)
, KEY mdl_filtacti_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam2_uix (contextid, filter, name)
, KEY mdl_filtconf_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    modulename VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou2_ix (courseid)
, KEY mdl_even_use2_ix (userid)
, KEY mdl_even_tim3_ix (timestart)
, KEY mdl_even_tim4_ix (timeduration)
, KEY mdl_even_grocouvisuse2_ix (groupid, courseid, visible, userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd52_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact2_ix (course, module, action)
, KEY mdl_log_tim2_ix (time)
, KEY mdl_log_act2_ix (action)
, KEY mdl_log_usecou2_ix (userid, course)
, KEY mdl_log_cmi2_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sqlparams LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    field VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact2_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_use3_ix (useridfrom)
, KEY mdl_mess_use4_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_use3_ix (useridfrom)
, KEY mdl_messread_use4_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contactid BIGINT(10) NOT NULL DEFAULT 0,
    blocked TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon2_uix (userid, contactid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Maintains lists of relationships between users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam2_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri2_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta2_ix (state)
, UNIQUE KEY mdl_sess_sid2_uix (sid)
, KEY mdl_sess_tim3_ix (timecreated)
, KEY mdl_sess_tim4_ix (timemodified)
, KEY mdl_sess_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_timezone (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    year BIGINT(11) NOT NULL DEFAULT 0,
    tzrule VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    gmtoff BIGINT(11) NOT NULL DEFAULT 0,
    dstoff BIGINT(11) NOT NULL DEFAULT 0,
    dst_month TINYINT(2) NOT NULL DEFAULT 0,
    dst_startday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    dst_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
    std_month TINYINT(2) NOT NULL DEFAULT 0,
    std_startday SMALLINT(3) NOT NULL DEFAULT 0,
    std_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    std_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    std_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Rules for calculating local wall clock time for users'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    icq VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    skype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    yahoo VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aim VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    msn VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone1 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    department VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    address VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    city VARCHAR(120) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    country VARCHAR(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    firstnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    middlename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    alternatename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse2_uix (mnethostid, username)
, KEY mdl_user_del2_ix (deleted)
, KEY mdl_user_con2_ix (confirmed)
, KEY mdl_user_fir3_ix (firstname)
, KEY mdl_user_las4_ix (lastname)
, KEY mdl_user_cit2_ix (city)
, KEY mdl_user_cou2_ix (country)
, KEY mdl_user_las5_ix (lastaccess)
, KEY mdl_user_ema2_ix (email)
, KEY mdl_user_aut2_ix (auth)
, KEY mdl_user_idn2_ix (idnumber)
, KEY mdl_user_fir4_ix (firstnamephonetic)
, KEY mdl_user_las6_ix (lastnamephonetic)
, KEY mdl_user_mid2_ix (middlename)
, KEY mdl_user_alt2_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam2_uix (userid, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou2_uix (userid, courseid)
, KEY mdl_userlast_use2_ix (userid)
, KEY mdl_userlast_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act2_ix (action)
, KEY mdl_scalhist_old2_ix (oldid)
, KEY mdl_scalhist_cou2_ix (courseid)
, KEY mdl_scalhist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou2_ix (courseid)
, KEY mdl_statdail_tim2_ix (timeend)
, KEY mdl_statdail_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou2_ix (courseid)
, KEY mdl_statweek_tim2_ix (timeend)
, KEY mdl_statweek_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou2_ix (courseid)
, KEY mdl_statmont_tim2_ix (timeend)
, KEY mdl_statmont_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou2_ix (courseid)
, KEY mdl_statuserdail_use2_ix (userid)
, KEY mdl_statuserdail_rol2_ix (roleid)
, KEY mdl_statuserdail_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou2_ix (courseid)
, KEY mdl_statuserweek_use2_ix (userid)
, KEY mdl_statuserweek_rol2_ix (roleid)
, KEY mdl_statuserweek_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou2_ix (courseid)
, KEY mdl_statusermont_use2_ix (userid)
, KEY mdl_statusermont_rol2_ix (roleid)
, KEY mdl_statusermont_tim2_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    uniquehash VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    publishstate VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse2_uix (id, userid)
, KEY mdl_post_las2_ix (lastmodified)
, KEY mdl_post_mod2_ix (module)
, KEY mdl_post_sub2_ix (subject)
, KEY mdl_post_use2_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor2_uix (sortorder)
, UNIQUE KEY mdl_role_sho2_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins2_uix (contextlevel, instanceid)
, KEY mdl_cont_ins2_ix (instanceid)
, KEY mdl_cont_pat2_ix (path)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam2_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall2_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol2_ix (roleid)
, KEY mdl_rolealloassi_all2_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall2_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol2_ix (roleid)
, KEY mdl_rolealloover_all2_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall2_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol2_ix (roleid)
, KEY mdl_rolealloswit_all2_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor2_ix (sortorder)
, KEY mdl_roleassi_rolcon2_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol2_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse2_ix (component, itemid, userid)
, KEY mdl_roleassi_rol2_ix (roleid)
, KEY mdl_roleassi_con2_ix (contextid)
, KEY mdl_roleassi_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap2_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol2_ix (roleid)
, KEY mdl_rolecapa_con2_ix (contextid)
, KEY mdl_rolecapa_mod2_ix (modifierid)
, KEY mdl_rolecapa_cap2_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon2_uix (roleid, contextid)
, KEY mdl_rolename_rol2_ix (roleid)
, KEY mdl_rolename_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_sortorder (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    roleid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sortoder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolesort_userolcon2_uix (userid, roleid, contextid)
, KEY mdl_rolesort_use2_ix (userid)
, KEY mdl_rolesort_rol2_ix (roleid)
, KEY mdl_rolesort_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='sort order of course managers in a course'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol2_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol2_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    datatype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param5 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie2_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con2_ix (contextid)
, KEY mdl_quescate_par2_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hidden TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_cat2_ix (category)
, KEY mdl_ques_par2_ix (parent)
, KEY mdl_ques_cre2_ix (createdby)
, KEY mdl_ques_mod2_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The questions themselves'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que2_ix (question)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que2_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    rightanswer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    responsesummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo2_uix (questionusageid, slot)
, KEY mdl_quesatte_que3_ix (questionid)
, KEY mdl_quesatte_que4_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq2_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que2_ix (questionattemptid)
, KEY mdl_quesattestep_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestepdata_attn2_uix (attemptstepid, name)
, KEY mdl_quesattestepdata_att2_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    response LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana2_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    public_key LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_app2_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser2_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou2_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    profile LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filename VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml2_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser2_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser2_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    token VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok2_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneus2_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    stackdump LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    schedule VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom2_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que2_ix (queuedeventid)
, KEY mdl_evenqueuhand_han2_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou2_ix (courseid)
, KEY mdl_gradoutc_sca2_ix (scaleid)
, KEY mdl_gradoutc_use2_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho2_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou2_ix (courseid)
, KEY mdl_gradoutccour_out2_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout2_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou2_ix (courseid)
, KEY mdl_gradcate_par2_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc2_ix (locked, locktime)
, KEY mdl_graditem_itenee2_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra2_ix (gradetype)
, KEY mdl_graditem_idncou2_ix (idnumber, courseid)
, KEY mdl_graditem_cou2_ix (courseid)
, KEY mdl_graditem_cat2_ix (categoryid)
, KEY mdl_graditem_sca2_ix (scaleid)
, KEY mdl_graditem_out2_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc2_ix (locked, locktime)
, KEY mdl_gradgrad_ite2_ix (itemid)
, KEY mdl_gradgrad_use3_ix (userid)
, KEY mdl_gradgrad_raw2_ix (rawscaleid)
, KEY mdl_gradgrad_use4_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite2_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act2_ix (action)
, KEY mdl_gradoutchist_old2_ix (oldid)
, KEY mdl_gradoutchist_cou2_ix (courseid)
, KEY mdl_gradoutchist_sca2_ix (scaleid)
, KEY mdl_gradoutchist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act2_ix (action)
, KEY mdl_gradcatehist_old2_ix (oldid)
, KEY mdl_gradcatehist_cou2_ix (courseid)
, KEY mdl_gradcatehist_par2_ix (parent)
, KEY mdl_gradcatehist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act2_ix (action)
, KEY mdl_graditemhist_old2_ix (oldid)
, KEY mdl_graditemhist_cou2_ix (courseid)
, KEY mdl_graditemhist_cat2_ix (categoryid)
, KEY mdl_graditemhist_sca2_ix (scaleid)
, KEY mdl_graditemhist_out2_ix (outcomeid)
, KEY mdl_graditemhist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act2_ix (action)
, KEY mdl_gradgradhist_tim2_ix (timemodified)
, KEY mdl_gradgradhist_old2_ix (oldid)
, KEY mdl_gradgradhist_ite2_ix (itemid)
, KEY mdl_gradgradhist_use3_ix (userid)
, KEY mdl_gradgradhist_raw2_ix (rawscaleid)
, KEY mdl_gradgradhist_use4_ix (usermodified)
, KEY mdl_gradgradhist_log2_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp2_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite2_ix (itemid)
, KEY mdl_gradimpovalu_new2_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp2_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_nam2_uix (name)
, UNIQUE KEY mdl_tag_idnam2_uix (id, name)
, KEY mdl_tag_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag2_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_iteitetagtiu2_uix (itemtype, itemid, tagid, tiuserid)
, KEY mdl_taginst_tag2_ix (tagid)
, KEY mdl_taginst_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    hidepicture TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn_ix (idnumber)
, KEY mdl_grou_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro2_ix (groupid)
, KEY mdl_groumemb_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro3_ix (groupingid)
, KEY mdl_grougrou_gro4_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse2_uix (cohortid, userid)
, KEY mdl_cohomemb_coh2_ix (cohortid)
, KEY mdl_cohomemb_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval2_ix (script, value)
, KEY mdl_userprivkey_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet2_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla2_ix (flagtype)
, KEY mdl_cachflag_nam2_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam2_uix (courseid, name)
, KEY mdl_gradsett_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_webdav_locks (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expiry BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    recursive TINYINT(1) NOT NULL DEFAULT 0,
    exclusivelock TINYINT(1) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    modified BIGINT(10) NOT NULL DEFAULT 0,
    owner VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_webdlock_pat2_ix (path)
, KEY mdl_webdlock_exp2_ix (expiry)
, UNIQUE KEY mdl_webdlock_tok2_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Resource locks for WebDAV users'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam2_ix (name)
, KEY mdl_portinstconf_ins2_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins2_ix (instance)
, KEY mdl_portinstuser_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    caller_sha1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use2_ix (userid)
, KEY mdl_portlog_por2_ix (portfolio)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use2_ix (userid)
, KEY mdl_porttemp_ins2_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam2_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_message_working (
    id BIGINT(10) NOT NULL auto_increment,
    unreadmessageid BIGINT(10) NOT NULL,
    processorid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messwork_unr2_ix (unreadmessageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists all the messages and processors that need to be proces'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    author VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    license VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite2_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con3_ix (contenthash)
, UNIQUE KEY mdl_file_pat2_uix (pathnamehash)
, KEY mdl_file_con4_ix (contextid)
, KEY mdl_file_use2_ix (userid)
, KEY mdl_file_ref2_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    referencehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_repref2_uix (repositoryid, referencehash)
, KEY mdl_filerefe_rep2_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store files references'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou2_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam2_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    pagetypepattern VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultregion VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub2_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_par2_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub2_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo2_ix (blockinstanceid)
, KEY mdl_blocposi_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    commentarea VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam2_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam2_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext2_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext2_ix (externalserviceid)
, KEY mdl_exteservuser_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_use2_ix (userid)
, KEY mdl_extetoke_ext2_ix (externalserviceid)
, KEY mdl_extetoke_con2_ix (contextid)
, KEY mdl_extetoke_cre2_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con2_ix (contextid)
, KEY mdl_blogasso_blo2_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    url LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filtertags VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite2_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con2_ix (contextid)
, KEY mdl_rati_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    controller LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite2_ix (type, itemid)
, UNIQUE KEY mdl_backcont_bac2_uix (backupid)
, KEY mdl_backcont_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid2_uix (backupid, id)
, KEY mdl_backlogs_bac2_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun2_ix (url, runreference)
, KEY mdl_prof_timrun2_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run2_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare2_uix (contextid, component, areaname)
, KEY mdl_gradarea_con2_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are2_ix (areaid)
, KEY mdl_graddefi_use3_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet2_uix (areaid, method)
, KEY mdl_graddefi_use4_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def2_ix (definitionid)
, KEY mdl_gradinst_rat2_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    messagesubject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ2_ix (type)
, KEY mdl_badg_cou2_ix (courseid)
, KEY mdl_badg_use3_ix (usermodified)
, KEY mdl_badg_use4_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri2_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri2_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad2_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri2_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse2_uix (badgeid, userid)
, KEY mdl_badgissu_bad2_ix (badgeid)
, KEY mdl_badgissu_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri2_ix (critid)
, KEY mdl_badgcritmet_use2_ix (userid)
, KEY mdl_badgcritmet_iss2_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad2_ix (badgeid)
, KEY mdl_badgmanuawar_rec2_ix (recipientid)
, KEY mdl_badgmanuawar_iss3_ix (issuerid)
, KEY mdl_badgmanuawar_iss4_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac2_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    model VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userdevi_pususe2_uix (pushid, userid)
, UNIQUE KEY mdl_userdevi_puspla2_uix (pushid, platform)
, KEY mdl_userdevi_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use2_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res2_uix (resourcekey)
, KEY mdl_lockdb_exp2_ix (expires)
, KEY mdl_lockdb_own2_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    blocking TINYINT(2) NOT NULL DEFAULT 0,
    minute VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hour VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    day VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    month VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla2_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    blocking TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex_ix (nextruntime)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of adhoc tasks waiting to run.'
Error code: ddlexecuteerror
* line 449 of \lib\dml\moodle_database.php: ddl_change_structure_exception thrown
* line 844 of \lib\dml\mysqli_native_moodle_database.php: call to moodle_database->query_end()
* line 76 of \lib\ddl\database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 412 of \lib\ddl\database_manager.php: call to database_manager->execute_sql_arr()
* line 364 of \lib\ddl\database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1498 of \lib\upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 233 of \admin\index.php: call to install_core()

[11-Jun-2014 02:27:16 Europe/Berlin] PHP Warning:  fopen(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): failed to open stream: Permission denied in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 357
[11-Jun-2014 02:27:17 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/tmgaDlhWHC.5397a263cdfe68.44059143.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 02:57:59 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/Jc93kpa9wH.5397a997989689.63429210.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 03:02:07 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/DWELARWXAR.5397aa8f5f5e17.53294724.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 03:02:46 Europe/Berlin] PHP Warning:  fopen(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): failed to open stream: Permission denied in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 357
[11-Jun-2014 03:03:18 Europe/Berlin] PHP Warning:  fopen(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): failed to open stream: Permission denied in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 357
[11-Jun-2014 03:03:54 Europe/Berlin] PHP Warning:  fopen(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): failed to open stream: Permission denied in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 357
[11-Jun-2014 03:04:26 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/iRmIzDUYxa.5397ab1a1ab3f0.50919487.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 03:10:29 Europe/Berlin] PHP Warning:  fopen(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): failed to open stream: Permission denied in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 357
[11-Jun-2014 03:11:03 Europe/Berlin] PHP Warning:  fopen(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): failed to open stream: Permission denied in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 357
[11-Jun-2014 03:12:20 Europe/Berlin] PHP Warning:  mkdir(): File exists in E:\xampp\apps\moodle\htdocs\lib\setuplib.php on line 1358
[11-Jun-2014 03:14:45 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/DC1A9ql46J.5397ad85632ea5.94995737.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 03:15:36 Europe/Berlin] PHP Warning:  fopen(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): failed to open stream: Permission denied in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 357
[11-Jun-2014 03:19:35 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/6bbT7TJrwf.5397aea71e8488.12011201.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 14:45:21 Europe/Berlin] PHP Parse error:  syntax error, unexpected '}' in E:\xampp\htdocs\Ninja_Cert\Session_1\q1process.php on line 7
[11-Jun-2014 14:55:55 Europe/Berlin] PHP Notice:  Undefined index: email in E:\xampp\htdocs\login.php on line 77
[11-Jun-2014 14:55:55 Europe/Berlin] PHP Notice:  Use of undefined constant ID_my_site - assumed 'ID_my_site' in E:\xampp\htdocs\login.php on line 126
[11-Jun-2014 14:55:55 Europe/Berlin] PHP Notice:  Use of undefined constant Key_my_site - assumed 'Key_my_site' in E:\xampp\htdocs\login.php on line 128
[11-Jun-2014 18:09:57 Europe/Berlin] PHP Fatal error:  Unknown: Failed opening required '-' (include_path='.;E:\xampp\php\PEAR') in Unknown on line 0
[11-Jun-2014 18:10:24 Europe/Berlin] PHP Fatal error:  Unknown: Failed opening required '-' (include_path='.;E:\xampp\php\PEAR') in Unknown on line 0
[11-Jun-2014 18:24:26 Europe/Berlin] Default exception handler: DDL sql execution error Debug: Table '`bitnami_moodle`.`mdl_config`' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    oldvalue LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim_ix (timemodified)
, KEY mdl_conflog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    version VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    targetversion VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    details LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim_ix (timemodified)
, KEY mdl_upgrlog_typtim_ix (type, timemodified)
, KEY mdl_upgrlog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou_ix (course)
, KEY mdl_courcompaggrmeth_cri_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_coucr_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou_ix (course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use_ix (userid)
, KEY mdl_courcompcritcomp_cou_ix (course)
, KEY mdl_courcompcritcomp_cri_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_useco_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use_ix (userid)
, KEY mdl_courcomp_cou_ix (course)
, KEY mdl_courcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion records'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    cost VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci,
    currency VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_general_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar2 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar3 VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr_ix (enrol)
, KEY mdl_enro_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse_uix (enrolid, userid)
, KEY mdl_userenro_enr_ix (enrolid)
, KEY mdl_userenro_use_ix (userid)
, KEY mdl_userenro_mod_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupmembersonly SMALLINT(4) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis_ix (visible)
, KEY mdl_courmodu_cou_ix (course)
, KEY mdl_courmodu_mod_ix (module)
, KEY mdl_courmodu_ins_ix (instance)
, KEY mdl_courmodu_idncou_ix (idnumber, course)
, KEY mdl_courmodu_gro_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    viewed TINYINT(1),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforsec_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil_uix (contextid, filter)
, KEY mdl_filtacti_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    modulename VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_grocouvisuse_ix (groupid, courseid, visible, userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd5_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact_ix (course, module, action)
, KEY mdl_log_tim_ix (time)
, KEY mdl_log_act_ix (action)
, KEY mdl_log_usecou_ix (userid, course)
, KEY mdl_log_cmi_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sqlparams LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    field VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_use_ix (useridfrom)
, KEY mdl_mess_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_use_ix (useridfrom)
, KEY mdl_messread_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contactid BIGINT(10) NOT NULL DEFAULT 0,
    blocked TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon_uix (userid, contactid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Maintains lists of relationships between users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta_ix (state)
, UNIQUE KEY mdl_sess_sid_uix (sid)
, KEY mdl_sess_tim_ix (timecreated)
, KEY mdl_sess_tim2_ix (timemodified)
, KEY mdl_sess_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_timezone (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    year BIGINT(11) NOT NULL DEFAULT 0,
    tzrule VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    gmtoff BIGINT(11) NOT NULL DEFAULT 0,
    dstoff BIGINT(11) NOT NULL DEFAULT 0,
    dst_month TINYINT(2) NOT NULL DEFAULT 0,
    dst_startday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    dst_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
    std_month TINYINT(2) NOT NULL DEFAULT 0,
    std_startday SMALLINT(3) NOT NULL DEFAULT 0,
    std_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    std_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    std_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Rules for calculating local wall clock time for users'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    icq VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    skype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    yahoo VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aim VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    msn VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone1 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    department VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    address VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    city VARCHAR(120) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    country VARCHAR(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    firstnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    middlename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    alternatename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou_uix (userid, courseid)
, KEY mdl_userlast_use_ix (userid)
, KEY mdl_userlast_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act_ix (action)
, KEY mdl_scalhist_old_ix (oldid)
, KEY mdl_scalhist_cou_ix (courseid)
, KEY mdl_scalhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou_ix (courseid)
, KEY mdl_statdail_tim_ix (timeend)
, KEY mdl_statdail_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou_ix (courseid)
, KEY mdl_statweek_tim_ix (timeend)
, KEY mdl_statweek_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou_ix (courseid)
, KEY mdl_statmont_tim_ix (timeend)
, KEY mdl_statmont_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou_ix (courseid)
, KEY mdl_statuserdail_use_ix (userid)
, KEY mdl_statuserdail_rol_ix (roleid)
, KEY mdl_statuserdail_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou_ix (courseid)
, KEY mdl_statuserweek_use_ix (userid)
, KEY mdl_statuserweek_rol_ix (roleid)
, KEY mdl_statuserweek_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou_ix (courseid)
, KEY mdl_statusermont_use_ix (userid)
, KEY mdl_statusermont_rol_ix (roleid)
, KEY mdl_statusermont_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    uniquehash VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    publishstate VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse_uix (id, userid)
, KEY mdl_post_las_ix (lastmodified)
, KEY mdl_post_mod_ix (module)
, KEY mdl_post_sub_ix (subject)
, KEY mdl_post_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor_uix (sortorder)
, UNIQUE KEY mdl_role_sho_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol_ix (roleid)
, KEY mdl_rolealloassi_all_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol_ix (roleid)
, KEY mdl_rolealloover_all_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol_ix (roleid)
, KEY mdl_rolealloswit_all_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor_ix (sortorder)
, KEY mdl_roleassi_rolcon_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse_ix (component, itemid, userid)
, KEY mdl_roleassi_rol_ix (roleid)
, KEY mdl_roleassi_con_ix (contextid)
, KEY mdl_roleassi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon_uix (roleid, contextid)
, KEY mdl_rolename_rol_ix (roleid)
, KEY mdl_rolename_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_sortorder (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    roleid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sortoder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolesort_userolcon_uix (userid, roleid, contextid)
, KEY mdl_rolesort_use_ix (userid)
, KEY mdl_rolesort_rol_ix (roleid)
, KEY mdl_rolesort_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='sort order of course managers in a course'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    datatype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param5 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hidden TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_cat_ix (category)
, KEY mdl_ques_par_ix (parent)
, KEY mdl_ques_cre_ix (createdby)
, KEY mdl_ques_mod_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The questions themselves'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que_ix (question)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    rightanswer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    responsesummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo_uix (questionusageid, slot)
, KEY mdl_quesatte_que_ix (questionid)
, KEY mdl_quesatte_que2_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que_ix (questionattemptid)
, KEY mdl_quesattestep_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestepdata_attna_uix (attemptstepid, name)
, KEY mdl_quesattestepdata_att_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    response LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    public_key LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_app_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    profile LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filename VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    token VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneuse_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    stackdump LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    schedule VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que_ix (queuedeventid)
, KEY mdl_evenqueuhand_han_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou_ix (courseid)
, KEY mdl_gradoutccour_out_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou_ix (courseid)
, KEY mdl_gradcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc_ix (locked, locktime)
, KEY mdl_gradgrad_ite_ix (itemid)
, KEY mdl_gradgrad_use_ix (userid)
, KEY mdl_gradgrad_raw_ix (rawscaleid)
, KEY mdl_gradgrad_use2_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act_ix (action)
, KEY mdl_gradoutchist_old_ix (oldid)
, KEY mdl_gradoutchist_cou_ix (courseid)
, KEY mdl_gradoutchist_sca_ix (scaleid)
, KEY mdl_gradoutchist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act_ix (action)
, KEY mdl_gradcatehist_old_ix (oldid)
, KEY mdl_gradcatehist_cou_ix (courseid)
, KEY mdl_gradcatehist_par_ix (parent)
, KEY mdl_gradcatehist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act_ix (action)
, KEY mdl_graditemhist_old_ix (oldid)
, KEY mdl_graditemhist_cou_ix (courseid)
, KEY mdl_graditemhist_cat_ix (categoryid)
, KEY mdl_graditemhist_sca_ix (scaleid)
, KEY mdl_graditemhist_out_ix (outcomeid)
, KEY mdl_graditemhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act_ix (action)
, KEY mdl_gradgradhist_tim_ix (timemodified)
, KEY mdl_gradgradhist_old_ix (oldid)
, KEY mdl_gradgradhist_ite_ix (itemid)
, KEY mdl_gradgradhist_use_ix (userid)
, KEY mdl_gradgradhist_raw_ix (rawscaleid)
, KEY mdl_gradgradhist_use2_ix (usermodified)
, KEY mdl_gradgradhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite_ix (itemid)
, KEY mdl_gradimpovalu_new_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_nam_uix (name)
, UNIQUE KEY mdl_tag_idnam_uix (id, name)
, KEY mdl_tag_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_iteitetagtiu_uix (itemtype, itemid, tagid, tiuserid)
, KEY mdl_taginst_tag_ix (tagid)
, KEY mdl_taginst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    hidepicture TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn_ix (idnumber)
, KEY mdl_grou_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro_ix (groupid)
, KEY mdl_groumemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro_ix (groupingid)
, KEY mdl_grougrou_gro2_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse_uix (cohortid, userid)
, KEY mdl_cohomemb_coh_ix (cohortid)
, KEY mdl_cohomemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval_ix (script, value)
, KEY mdl_userprivkey_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_webdav_locks (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expiry BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    recursive TINYINT(1) NOT NULL DEFAULT 0,
    exclusivelock TINYINT(1) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    modified BIGINT(10) NOT NULL DEFAULT 0,
    owner VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_webdlock_pat_ix (path)
, KEY mdl_webdlock_exp_ix (expiry)
, UNIQUE KEY mdl_webdlock_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Resource locks for WebDAV users'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins_ix (instance)
, KEY mdl_portinstuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    caller_sha1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use_ix (userid)
, KEY mdl_portlog_por_ix (portfolio)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use_ix (userid)
, KEY mdl_porttemp_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_message_working (
    id BIGINT(10) NOT NULL auto_increment,
    unreadmessageid BIGINT(10) NOT NULL,
    processorid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messwork_unr_ix (unreadmessageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists all the messages and processors that need to be proces'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    author VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    license VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    referencehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_repref_uix (repositoryid, referencehash)
, KEY mdl_filerefe_rep_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store files references'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    pagetypepattern VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultregion VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_par_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo_ix (blockinstanceid)
, KEY mdl_blocposi_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    commentarea VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext_ix (externalserviceid)
, KEY mdl_exteservuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_use_ix (userid)
, KEY mdl_extetoke_ext_ix (externalserviceid)
, KEY mdl_extetoke_con_ix (contextid)
, KEY mdl_extetoke_cre_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con_ix (contextid)
, KEY mdl_blogasso_blo_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    url LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filtertags VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con_ix (contextid)
, KEY mdl_rati_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    controller LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite_ix (type, itemid)
, UNIQUE KEY mdl_backcont_bac_uix (backupid)
, KEY mdl_backcont_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid_uix (backupid, id)
, KEY mdl_backlogs_bac_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare_uix (contextid, component, areaname)
, KEY mdl_gradarea_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are_ix (areaid)
, KEY mdl_graddefi_use_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet_uix (areaid, method)
, KEY mdl_graddefi_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def_ix (definitionid)
, KEY mdl_gradinst_rat_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    messagesubject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse_uix (badgeid, userid)
, KEY mdl_badgissu_bad_ix (badgeid)
, KEY mdl_badgissu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri_ix (critid)
, KEY mdl_badgcritmet_use_ix (userid)
, KEY mdl_badgcritmet_iss_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad_ix (badgeid)
, KEY mdl_badgmanuawar_rec_ix (recipientid)
, KEY mdl_badgmanuawar_iss_ix (issuerid)
, KEY mdl_badgmanuawar_iss2_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    model VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, UNIQUE KEY mdl_userdevi_puspla_uix (pushid, platform)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    blocking TINYINT(2) NOT NULL DEFAULT 0,
    minute VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hour VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    day VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    month VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    blocking TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex_ix (nextruntime)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of adhoc tasks waiting to run.'
Error code: ddlexecuteerror
* line 449 of \lib\dml\moodle_database.php: ddl_change_structure_exception thrown
* line 839 of \lib\dml\mysqli_native_moodle_database.php: call to moodle_database->query_end()
* line 76 of \lib\ddl\database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 412 of \lib\ddl\database_manager.php: call to database_manager->execute_sql_arr()
* line 364 of \lib\ddl\database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1498 of \lib\upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 476 of \lib\installlib.php: call to install_core()
* line 762 of \admin\cli\install.php: call to install_cli_database()

[11-Jun-2014 18:38:02 Europe/Berlin] Default exception handler: DDL sql execution error Debug: Table '`bitnami_moodle`.`mdl_config`' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    oldvalue LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim_ix (timemodified)
, KEY mdl_conflog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    version VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    targetversion VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    details LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim_ix (timemodified)
, KEY mdl_upgrlog_typtim_ix (type, timemodified)
, KEY mdl_upgrlog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou_ix (course)
, KEY mdl_courcompaggrmeth_cri_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_coucr_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou_ix (course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use_ix (userid)
, KEY mdl_courcompcritcomp_cou_ix (course)
, KEY mdl_courcompcritcomp_cri_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_useco_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use_ix (userid)
, KEY mdl_courcomp_cou_ix (course)
, KEY mdl_courcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion records'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    cost VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci,
    currency VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_general_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar2 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar3 VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr_ix (enrol)
, KEY mdl_enro_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse_uix (enrolid, userid)
, KEY mdl_userenro_enr_ix (enrolid)
, KEY mdl_userenro_use_ix (userid)
, KEY mdl_userenro_mod_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupmembersonly SMALLINT(4) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis_ix (visible)
, KEY mdl_courmodu_cou_ix (course)
, KEY mdl_courmodu_mod_ix (module)
, KEY mdl_courmodu_ins_ix (instance)
, KEY mdl_courmodu_idncou_ix (idnumber, course)
, KEY mdl_courmodu_gro_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    viewed TINYINT(1),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforsec_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil_uix (contextid, filter)
, KEY mdl_filtacti_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    modulename VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_grocouvisuse_ix (groupid, courseid, visible, userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd5_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact_ix (course, module, action)
, KEY mdl_log_tim_ix (time)
, KEY mdl_log_act_ix (action)
, KEY mdl_log_usecou_ix (userid, course)
, KEY mdl_log_cmi_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sqlparams LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    field VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_use_ix (useridfrom)
, KEY mdl_mess_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_use_ix (useridfrom)
, KEY mdl_messread_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contactid BIGINT(10) NOT NULL DEFAULT 0,
    blocked TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon_uix (userid, contactid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Maintains lists of relationships between users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta_ix (state)
, UNIQUE KEY mdl_sess_sid_uix (sid)
, KEY mdl_sess_tim_ix (timecreated)
, KEY mdl_sess_tim2_ix (timemodified)
, KEY mdl_sess_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_timezone (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    year BIGINT(11) NOT NULL DEFAULT 0,
    tzrule VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    gmtoff BIGINT(11) NOT NULL DEFAULT 0,
    dstoff BIGINT(11) NOT NULL DEFAULT 0,
    dst_month TINYINT(2) NOT NULL DEFAULT 0,
    dst_startday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    dst_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
    std_month TINYINT(2) NOT NULL DEFAULT 0,
    std_startday SMALLINT(3) NOT NULL DEFAULT 0,
    std_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    std_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    std_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Rules for calculating local wall clock time for users'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    icq VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    skype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    yahoo VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aim VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    msn VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone1 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    department VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    address VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    city VARCHAR(120) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    country VARCHAR(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    firstnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    middlename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    alternatename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou_uix (userid, courseid)
, KEY mdl_userlast_use_ix (userid)
, KEY mdl_userlast_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act_ix (action)
, KEY mdl_scalhist_old_ix (oldid)
, KEY mdl_scalhist_cou_ix (courseid)
, KEY mdl_scalhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou_ix (courseid)
, KEY mdl_statdail_tim_ix (timeend)
, KEY mdl_statdail_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou_ix (courseid)
, KEY mdl_statweek_tim_ix (timeend)
, KEY mdl_statweek_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou_ix (courseid)
, KEY mdl_statmont_tim_ix (timeend)
, KEY mdl_statmont_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou_ix (courseid)
, KEY mdl_statuserdail_use_ix (userid)
, KEY mdl_statuserdail_rol_ix (roleid)
, KEY mdl_statuserdail_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou_ix (courseid)
, KEY mdl_statuserweek_use_ix (userid)
, KEY mdl_statuserweek_rol_ix (roleid)
, KEY mdl_statuserweek_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou_ix (courseid)
, KEY mdl_statusermont_use_ix (userid)
, KEY mdl_statusermont_rol_ix (roleid)
, KEY mdl_statusermont_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    uniquehash VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    publishstate VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse_uix (id, userid)
, KEY mdl_post_las_ix (lastmodified)
, KEY mdl_post_mod_ix (module)
, KEY mdl_post_sub_ix (subject)
, KEY mdl_post_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor_uix (sortorder)
, UNIQUE KEY mdl_role_sho_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol_ix (roleid)
, KEY mdl_rolealloassi_all_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol_ix (roleid)
, KEY mdl_rolealloover_all_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol_ix (roleid)
, KEY mdl_rolealloswit_all_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor_ix (sortorder)
, KEY mdl_roleassi_rolcon_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse_ix (component, itemid, userid)
, KEY mdl_roleassi_rol_ix (roleid)
, KEY mdl_roleassi_con_ix (contextid)
, KEY mdl_roleassi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon_uix (roleid, contextid)
, KEY mdl_rolename_rol_ix (roleid)
, KEY mdl_rolename_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_sortorder (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    roleid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sortoder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolesort_userolcon_uix (userid, roleid, contextid)
, KEY mdl_rolesort_use_ix (userid)
, KEY mdl_rolesort_rol_ix (roleid)
, KEY mdl_rolesort_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='sort order of course managers in a course'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    datatype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param5 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hidden TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_cat_ix (category)
, KEY mdl_ques_par_ix (parent)
, KEY mdl_ques_cre_ix (createdby)
, KEY mdl_ques_mod_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The questions themselves'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que_ix (question)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    rightanswer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    responsesummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo_uix (questionusageid, slot)
, KEY mdl_quesatte_que_ix (questionid)
, KEY mdl_quesatte_que2_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que_ix (questionattemptid)
, KEY mdl_quesattestep_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestepdata_attna_uix (attemptstepid, name)
, KEY mdl_quesattestepdata_att_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    response LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    public_key LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_app_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    profile LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filename VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    token VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneuse_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    stackdump LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    schedule VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que_ix (queuedeventid)
, KEY mdl_evenqueuhand_han_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou_ix (courseid)
, KEY mdl_gradoutccour_out_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou_ix (courseid)
, KEY mdl_gradcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc_ix (locked, locktime)
, KEY mdl_gradgrad_ite_ix (itemid)
, KEY mdl_gradgrad_use_ix (userid)
, KEY mdl_gradgrad_raw_ix (rawscaleid)
, KEY mdl_gradgrad_use2_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act_ix (action)
, KEY mdl_gradoutchist_old_ix (oldid)
, KEY mdl_gradoutchist_cou_ix (courseid)
, KEY mdl_gradoutchist_sca_ix (scaleid)
, KEY mdl_gradoutchist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act_ix (action)
, KEY mdl_gradcatehist_old_ix (oldid)
, KEY mdl_gradcatehist_cou_ix (courseid)
, KEY mdl_gradcatehist_par_ix (parent)
, KEY mdl_gradcatehist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act_ix (action)
, KEY mdl_graditemhist_old_ix (oldid)
, KEY mdl_graditemhist_cou_ix (courseid)
, KEY mdl_graditemhist_cat_ix (categoryid)
, KEY mdl_graditemhist_sca_ix (scaleid)
, KEY mdl_graditemhist_out_ix (outcomeid)
, KEY mdl_graditemhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act_ix (action)
, KEY mdl_gradgradhist_tim_ix (timemodified)
, KEY mdl_gradgradhist_old_ix (oldid)
, KEY mdl_gradgradhist_ite_ix (itemid)
, KEY mdl_gradgradhist_use_ix (userid)
, KEY mdl_gradgradhist_raw_ix (rawscaleid)
, KEY mdl_gradgradhist_use2_ix (usermodified)
, KEY mdl_gradgradhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite_ix (itemid)
, KEY mdl_gradimpovalu_new_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_nam_uix (name)
, UNIQUE KEY mdl_tag_idnam_uix (id, name)
, KEY mdl_tag_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_iteitetagtiu_uix (itemtype, itemid, tagid, tiuserid)
, KEY mdl_taginst_tag_ix (tagid)
, KEY mdl_taginst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    hidepicture TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn_ix (idnumber)
, KEY mdl_grou_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro_ix (groupid)
, KEY mdl_groumemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro_ix (groupingid)
, KEY mdl_grougrou_gro2_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse_uix (cohortid, userid)
, KEY mdl_cohomemb_coh_ix (cohortid)
, KEY mdl_cohomemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval_ix (script, value)
, KEY mdl_userprivkey_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_webdav_locks (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expiry BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    recursive TINYINT(1) NOT NULL DEFAULT 0,
    exclusivelock TINYINT(1) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    modified BIGINT(10) NOT NULL DEFAULT 0,
    owner VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_webdlock_pat_ix (path)
, KEY mdl_webdlock_exp_ix (expiry)
, UNIQUE KEY mdl_webdlock_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Resource locks for WebDAV users'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins_ix (instance)
, KEY mdl_portinstuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    caller_sha1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use_ix (userid)
, KEY mdl_portlog_por_ix (portfolio)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use_ix (userid)
, KEY mdl_porttemp_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_message_working (
    id BIGINT(10) NOT NULL auto_increment,
    unreadmessageid BIGINT(10) NOT NULL,
    processorid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messwork_unr_ix (unreadmessageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists all the messages and processors that need to be proces'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    author VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    license VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    referencehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_repref_uix (repositoryid, referencehash)
, KEY mdl_filerefe_rep_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store files references'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    pagetypepattern VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultregion VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_par_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo_ix (blockinstanceid)
, KEY mdl_blocposi_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    commentarea VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext_ix (externalserviceid)
, KEY mdl_exteservuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_use_ix (userid)
, KEY mdl_extetoke_ext_ix (externalserviceid)
, KEY mdl_extetoke_con_ix (contextid)
, KEY mdl_extetoke_cre_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con_ix (contextid)
, KEY mdl_blogasso_blo_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    url LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filtertags VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con_ix (contextid)
, KEY mdl_rati_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    controller LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite_ix (type, itemid)
, UNIQUE KEY mdl_backcont_bac_uix (backupid)
, KEY mdl_backcont_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid_uix (backupid, id)
, KEY mdl_backlogs_bac_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare_uix (contextid, component, areaname)
, KEY mdl_gradarea_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are_ix (areaid)
, KEY mdl_graddefi_use_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet_uix (areaid, method)
, KEY mdl_graddefi_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def_ix (definitionid)
, KEY mdl_gradinst_rat_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    messagesubject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse_uix (badgeid, userid)
, KEY mdl_badgissu_bad_ix (badgeid)
, KEY mdl_badgissu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri_ix (critid)
, KEY mdl_badgcritmet_use_ix (userid)
, KEY mdl_badgcritmet_iss_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad_ix (badgeid)
, KEY mdl_badgmanuawar_rec_ix (recipientid)
, KEY mdl_badgmanuawar_iss_ix (issuerid)
, KEY mdl_badgmanuawar_iss2_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    model VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, UNIQUE KEY mdl_userdevi_puspla_uix (pushid, platform)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    blocking TINYINT(2) NOT NULL DEFAULT 0,
    minute VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hour VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    day VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    month VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    blocking TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex_ix (nextruntime)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of adhoc tasks waiting to run.'
Error code: ddlexecuteerror
* line 449 of \lib\dml\moodle_database.php: ddl_change_structure_exception thrown
* line 839 of \lib\dml\mysqli_native_moodle_database.php: call to moodle_database->query_end()
* line 76 of \lib\ddl\database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 412 of \lib\ddl\database_manager.php: call to database_manager->execute_sql_arr()
* line 364 of \lib\ddl\database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1498 of \lib\upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 233 of \admin\index.php: call to install_core()

[11-Jun-2014 18:42:08 Europe/Berlin] Default exception handler: DDL sql execution error Debug: Table '`bitnami_moodle`.`mdl_config`' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    oldvalue LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim_ix (timemodified)
, KEY mdl_conflog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    version VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    targetversion VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    details LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim_ix (timemodified)
, KEY mdl_upgrlog_typtim_ix (type, timemodified)
, KEY mdl_upgrlog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou_ix (course)
, KEY mdl_courcompaggrmeth_cri_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_coucr_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou_ix (course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use_ix (userid)
, KEY mdl_courcompcritcomp_cou_ix (course)
, KEY mdl_courcompcritcomp_cri_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_useco_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use_ix (userid)
, KEY mdl_courcomp_cou_ix (course)
, KEY mdl_courcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion records'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    cost VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci,
    currency VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_general_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar2 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar3 VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr_ix (enrol)
, KEY mdl_enro_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse_uix (enrolid, userid)
, KEY mdl_userenro_enr_ix (enrolid)
, KEY mdl_userenro_use_ix (userid)
, KEY mdl_userenro_mod_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupmembersonly SMALLINT(4) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis_ix (visible)
, KEY mdl_courmodu_cou_ix (course)
, KEY mdl_courmodu_mod_ix (module)
, KEY mdl_courmodu_ins_ix (instance)
, KEY mdl_courmodu_idncou_ix (idnumber, course)
, KEY mdl_courmodu_gro_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    viewed TINYINT(1),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforsec_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil_uix (contextid, filter)
, KEY mdl_filtacti_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    modulename VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_grocouvisuse_ix (groupid, courseid, visible, userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd5_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact_ix (course, module, action)
, KEY mdl_log_tim_ix (time)
, KEY mdl_log_act_ix (action)
, KEY mdl_log_usecou_ix (userid, course)
, KEY mdl_log_cmi_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sqlparams LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    field VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_use_ix (useridfrom)
, KEY mdl_mess_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_use_ix (useridfrom)
, KEY mdl_messread_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contactid BIGINT(10) NOT NULL DEFAULT 0,
    blocked TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon_uix (userid, contactid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Maintains lists of relationships between users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta_ix (state)
, UNIQUE KEY mdl_sess_sid_uix (sid)
, KEY mdl_sess_tim_ix (timecreated)
, KEY mdl_sess_tim2_ix (timemodified)
, KEY mdl_sess_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_timezone (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    year BIGINT(11) NOT NULL DEFAULT 0,
    tzrule VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    gmtoff BIGINT(11) NOT NULL DEFAULT 0,
    dstoff BIGINT(11) NOT NULL DEFAULT 0,
    dst_month TINYINT(2) NOT NULL DEFAULT 0,
    dst_startday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    dst_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
    std_month TINYINT(2) NOT NULL DEFAULT 0,
    std_startday SMALLINT(3) NOT NULL DEFAULT 0,
    std_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    std_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    std_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Rules for calculating local wall clock time for users'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    icq VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    skype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    yahoo VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aim VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    msn VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone1 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    department VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    address VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    city VARCHAR(120) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    country VARCHAR(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    firstnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    middlename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    alternatename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou_uix (userid, courseid)
, KEY mdl_userlast_use_ix (userid)
, KEY mdl_userlast_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act_ix (action)
, KEY mdl_scalhist_old_ix (oldid)
, KEY mdl_scalhist_cou_ix (courseid)
, KEY mdl_scalhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou_ix (courseid)
, KEY mdl_statdail_tim_ix (timeend)
, KEY mdl_statdail_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou_ix (courseid)
, KEY mdl_statweek_tim_ix (timeend)
, KEY mdl_statweek_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou_ix (courseid)
, KEY mdl_statmont_tim_ix (timeend)
, KEY mdl_statmont_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou_ix (courseid)
, KEY mdl_statuserdail_use_ix (userid)
, KEY mdl_statuserdail_rol_ix (roleid)
, KEY mdl_statuserdail_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou_ix (courseid)
, KEY mdl_statuserweek_use_ix (userid)
, KEY mdl_statuserweek_rol_ix (roleid)
, KEY mdl_statuserweek_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou_ix (courseid)
, KEY mdl_statusermont_use_ix (userid)
, KEY mdl_statusermont_rol_ix (roleid)
, KEY mdl_statusermont_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    uniquehash VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    publishstate VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse_uix (id, userid)
, KEY mdl_post_las_ix (lastmodified)
, KEY mdl_post_mod_ix (module)
, KEY mdl_post_sub_ix (subject)
, KEY mdl_post_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor_uix (sortorder)
, UNIQUE KEY mdl_role_sho_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol_ix (roleid)
, KEY mdl_rolealloassi_all_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol_ix (roleid)
, KEY mdl_rolealloover_all_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol_ix (roleid)
, KEY mdl_rolealloswit_all_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor_ix (sortorder)
, KEY mdl_roleassi_rolcon_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse_ix (component, itemid, userid)
, KEY mdl_roleassi_rol_ix (roleid)
, KEY mdl_roleassi_con_ix (contextid)
, KEY mdl_roleassi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon_uix (roleid, contextid)
, KEY mdl_rolename_rol_ix (roleid)
, KEY mdl_rolename_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_sortorder (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    roleid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sortoder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolesort_userolcon_uix (userid, roleid, contextid)
, KEY mdl_rolesort_use_ix (userid)
, KEY mdl_rolesort_rol_ix (roleid)
, KEY mdl_rolesort_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='sort order of course managers in a course'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    datatype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param5 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hidden TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_cat_ix (category)
, KEY mdl_ques_par_ix (parent)
, KEY mdl_ques_cre_ix (createdby)
, KEY mdl_ques_mod_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The questions themselves'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que_ix (question)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    rightanswer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    responsesummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo_uix (questionusageid, slot)
, KEY mdl_quesatte_que_ix (questionid)
, KEY mdl_quesatte_que2_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que_ix (questionattemptid)
, KEY mdl_quesattestep_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestepdata_attna_uix (attemptstepid, name)
, KEY mdl_quesattestepdata_att_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    response LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    public_key LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_app_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    profile LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filename VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    token VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneuse_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    stackdump LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    schedule VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que_ix (queuedeventid)
, KEY mdl_evenqueuhand_han_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou_ix (courseid)
, KEY mdl_gradoutccour_out_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou_ix (courseid)
, KEY mdl_gradcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc_ix (locked, locktime)
, KEY mdl_gradgrad_ite_ix (itemid)
, KEY mdl_gradgrad_use_ix (userid)
, KEY mdl_gradgrad_raw_ix (rawscaleid)
, KEY mdl_gradgrad_use2_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act_ix (action)
, KEY mdl_gradoutchist_old_ix (oldid)
, KEY mdl_gradoutchist_cou_ix (courseid)
, KEY mdl_gradoutchist_sca_ix (scaleid)
, KEY mdl_gradoutchist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act_ix (action)
, KEY mdl_gradcatehist_old_ix (oldid)
, KEY mdl_gradcatehist_cou_ix (courseid)
, KEY mdl_gradcatehist_par_ix (parent)
, KEY mdl_gradcatehist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act_ix (action)
, KEY mdl_graditemhist_old_ix (oldid)
, KEY mdl_graditemhist_cou_ix (courseid)
, KEY mdl_graditemhist_cat_ix (categoryid)
, KEY mdl_graditemhist_sca_ix (scaleid)
, KEY mdl_graditemhist_out_ix (outcomeid)
, KEY mdl_graditemhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act_ix (action)
, KEY mdl_gradgradhist_tim_ix (timemodified)
, KEY mdl_gradgradhist_old_ix (oldid)
, KEY mdl_gradgradhist_ite_ix (itemid)
, KEY mdl_gradgradhist_use_ix (userid)
, KEY mdl_gradgradhist_raw_ix (rawscaleid)
, KEY mdl_gradgradhist_use2_ix (usermodified)
, KEY mdl_gradgradhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite_ix (itemid)
, KEY mdl_gradimpovalu_new_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_nam_uix (name)
, UNIQUE KEY mdl_tag_idnam_uix (id, name)
, KEY mdl_tag_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_iteitetagtiu_uix (itemtype, itemid, tagid, tiuserid)
, KEY mdl_taginst_tag_ix (tagid)
, KEY mdl_taginst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    hidepicture TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn_ix (idnumber)
, KEY mdl_grou_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro_ix (groupid)
, KEY mdl_groumemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro_ix (groupingid)
, KEY mdl_grougrou_gro2_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse_uix (cohortid, userid)
, KEY mdl_cohomemb_coh_ix (cohortid)
, KEY mdl_cohomemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval_ix (script, value)
, KEY mdl_userprivkey_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_webdav_locks (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expiry BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    recursive TINYINT(1) NOT NULL DEFAULT 0,
    exclusivelock TINYINT(1) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    modified BIGINT(10) NOT NULL DEFAULT 0,
    owner VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_webdlock_pat_ix (path)
, KEY mdl_webdlock_exp_ix (expiry)
, UNIQUE KEY mdl_webdlock_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Resource locks for WebDAV users'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins_ix (instance)
, KEY mdl_portinstuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    caller_sha1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use_ix (userid)
, KEY mdl_portlog_por_ix (portfolio)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use_ix (userid)
, KEY mdl_porttemp_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_message_working (
    id BIGINT(10) NOT NULL auto_increment,
    unreadmessageid BIGINT(10) NOT NULL,
    processorid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messwork_unr_ix (unreadmessageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists all the messages and processors that need to be proces'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    author VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    license VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    referencehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_repref_uix (repositoryid, referencehash)
, KEY mdl_filerefe_rep_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store files references'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    pagetypepattern VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultregion VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_par_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo_ix (blockinstanceid)
, KEY mdl_blocposi_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    commentarea VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext_ix (externalserviceid)
, KEY mdl_exteservuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_use_ix (userid)
, KEY mdl_extetoke_ext_ix (externalserviceid)
, KEY mdl_extetoke_con_ix (contextid)
, KEY mdl_extetoke_cre_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con_ix (contextid)
, KEY mdl_blogasso_blo_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    url LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filtertags VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con_ix (contextid)
, KEY mdl_rati_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    controller LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite_ix (type, itemid)
, UNIQUE KEY mdl_backcont_bac_uix (backupid)
, KEY mdl_backcont_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid_uix (backupid, id)
, KEY mdl_backlogs_bac_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare_uix (contextid, component, areaname)
, KEY mdl_gradarea_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are_ix (areaid)
, KEY mdl_graddefi_use_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet_uix (areaid, method)
, KEY mdl_graddefi_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def_ix (definitionid)
, KEY mdl_gradinst_rat_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    messagesubject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse_uix (badgeid, userid)
, KEY mdl_badgissu_bad_ix (badgeid)
, KEY mdl_badgissu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri_ix (critid)
, KEY mdl_badgcritmet_use_ix (userid)
, KEY mdl_badgcritmet_iss_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad_ix (badgeid)
, KEY mdl_badgmanuawar_rec_ix (recipientid)
, KEY mdl_badgmanuawar_iss_ix (issuerid)
, KEY mdl_badgmanuawar_iss2_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    model VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, UNIQUE KEY mdl_userdevi_puspla_uix (pushid, platform)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    blocking TINYINT(2) NOT NULL DEFAULT 0,
    minute VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hour VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    day VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    month VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    blocking TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex_ix (nextruntime)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of adhoc tasks waiting to run.'
Error code: ddlexecuteerror
* line 449 of \lib\dml\moodle_database.php: ddl_change_structure_exception thrown
* line 839 of \lib\dml\mysqli_native_moodle_database.php: call to moodle_database->query_end()
* line 76 of \lib\ddl\database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 412 of \lib\ddl\database_manager.php: call to database_manager->execute_sql_arr()
* line 364 of \lib\ddl\database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1498 of \lib\upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 233 of \admin\index.php: call to install_core()

[11-Jun-2014 18:45:09 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1049): Unknown database 'acoserver_moodle' in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[11-Jun-2014 18:45:14 Europe/Berlin] PHP Warning:  mysqli::mysqli(): (HY000/1049): Unknown database 'acoserver_moodle' in E:\xampp\apps\moodle\htdocs\lib\dml\mysqli_native_moodle_database.php on line 376
[11-Jun-2014 18:47:05 Europe/Berlin] Default exception handler: DDL sql execution error Debug: Table '`bitnami_moodle`.`mdl_config`' already exists
CREATE TABLE mdl_config (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_conf_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle configuration variables'
;
CREATE TABLE mdl_config_plugins (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'core',
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_confplug_plunam_uix (plugin, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Moodle modules and plugins configuration variables'
;
CREATE TABLE mdl_config_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    oldvalue LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_conflog_tim_ix (timemodified)
, KEY mdl_conflog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Changes done in server configuration through admin UI'
;
CREATE TABLE mdl_upgrade_log (
    id BIGINT(10) NOT NULL auto_increment,
    type BIGINT(10) NOT NULL,
    plugin VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    version VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    targetversion VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    details LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_upgrlog_tim_ix (timemodified)
, KEY mdl_upgrlog_typtim_ix (type, timemodified)
, KEY mdl_upgrlog_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Upgrade logging'
;
CREATE TABLE mdl_course (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'topics',
    showgrades TINYINT(2) NOT NULL DEFAULT 1,
    newsitems MEDIUMINT(5) NOT NULL DEFAULT 1,
    startdate BIGINT(10) NOT NULL DEFAULT 0,
    marker BIGINT(10) NOT NULL DEFAULT 0,
    maxbytes BIGINT(10) NOT NULL DEFAULT 0,
    legacyfiles SMALLINT(4) NOT NULL DEFAULT 0,
    showreports SMALLINT(4) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupmodeforce SMALLINT(4) NOT NULL DEFAULT 0,
    defaultgroupingid BIGINT(10) NOT NULL DEFAULT 0,
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    requested TINYINT(1) NOT NULL DEFAULT 0,
    enablecompletion TINYINT(1) NOT NULL DEFAULT 0,
    completionnotify TINYINT(1) NOT NULL DEFAULT 0,
    cacherev BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cour_cat_ix (category)
, KEY mdl_cour_idn_ix (idnumber)
, KEY mdl_cour_sho_ix (shortname)
, KEY mdl_cour_sor_ix (sortorder)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Central course table'
;
CREATE TABLE mdl_course_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    coursecount BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course categories'
;
CREATE TABLE mdl_course_completion_aggr_methd (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 0,
    value NUMERIC(10,5),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompaggrmeth_cou_ix (course)
, KEY mdl_courcompaggrmeth_cri_ix (criteriatype)
, UNIQUE KEY mdl_courcompaggrmeth_coucr_uix (course, criteriatype)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion aggregation methods for criteria'
;
CREATE TABLE mdl_course_completion_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    moduleinstance BIGINT(10),
    courseinstance BIGINT(10),
    enrolperiod BIGINT(10),
    timeend BIGINT(10),
    gradepass NUMERIC(10,5),
    role BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcrit_cou_ix (course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion criteria'
;
CREATE TABLE mdl_course_completion_crit_compl (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    criteriaid BIGINT(10) NOT NULL DEFAULT 0,
    gradefinal NUMERIC(10,5),
    unenroled BIGINT(10),
    timecompleted BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcompcritcomp_use_ix (userid)
, KEY mdl_courcompcritcomp_cou_ix (course)
, KEY mdl_courcompcritcomp_cri_ix (criteriaid)
, KEY mdl_courcompcritcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcompcritcomp_useco_uix (userid, course, criteriaid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion user records'
;
CREATE TABLE mdl_course_completions (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    course BIGINT(10) NOT NULL DEFAULT 0,
    timeenrolled BIGINT(10) NOT NULL DEFAULT 0,
    timestarted BIGINT(10) NOT NULL DEFAULT 0,
    timecompleted BIGINT(10),
    reaggregate BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courcomp_use_ix (userid)
, KEY mdl_courcomp_cou_ix (course)
, KEY mdl_courcomp_tim_ix (timecompleted)
, UNIQUE KEY mdl_courcomp_usecou_uix (userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Course completion records'
;
CREATE TABLE mdl_enrol (
    id BIGINT(10) NOT NULL auto_increment,
    enrol VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    status BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enrolperiod BIGINT(10) DEFAULT 0,
    enrolstartdate BIGINT(10) DEFAULT 0,
    enrolenddate BIGINT(10) DEFAULT 0,
    expirynotify TINYINT(1) DEFAULT 0,
    expirythreshold BIGINT(10) DEFAULT 0,
    notifyall TINYINT(1) DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    cost VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci,
    currency VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_general_ci,
    roleid BIGINT(10) DEFAULT 0,
    customint1 BIGINT(10),
    customint2 BIGINT(10),
    customint3 BIGINT(10),
    customint4 BIGINT(10),
    customint5 BIGINT(10),
    customint6 BIGINT(10),
    customint7 BIGINT(10),
    customint8 BIGINT(10),
    customchar1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar2 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customchar3 VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci,
    customdec1 NUMERIC(12,7),
    customdec2 NUMERIC(12,7),
    customtext1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    customtext4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_enro_enr_ix (enrol)
, KEY mdl_enro_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Instances of enrolment plugins used in courses, fields marke'
;
CREATE TABLE mdl_user_enrolments (
    id BIGINT(10) NOT NULL auto_increment,
    status BIGINT(10) NOT NULL DEFAULT 0,
    enrolid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 2147483647,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userenro_enruse_uix (enrolid, userid)
, KEY mdl_userenro_enr_ix (enrolid)
, KEY mdl_userenro_use_ix (userid)
, KEY mdl_userenro_mod_ix (modifierid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users participating in courses (aka enrolled users) - everyb'
;
CREATE TABLE mdl_course_modules (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    module BIGINT(10) NOT NULL DEFAULT 0,
    instance BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    added BIGINT(10) NOT NULL DEFAULT 0,
    score SMALLINT(4) NOT NULL DEFAULT 0,
    indent MEDIUMINT(5) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    visibleold TINYINT(1) NOT NULL DEFAULT 1,
    groupmode SMALLINT(4) NOT NULL DEFAULT 0,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupmembersonly SMALLINT(4) NOT NULL DEFAULT 0,
    completion TINYINT(1) NOT NULL DEFAULT 0,
    completiongradeitemnumber BIGINT(10),
    completionview TINYINT(1) NOT NULL DEFAULT 0,
    completionexpected BIGINT(10) NOT NULL DEFAULT 0,
    showdescription TINYINT(1) NOT NULL DEFAULT 0,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmodu_vis_ix (visible)
, KEY mdl_courmodu_cou_ix (course)
, KEY mdl_courmodu_mod_ix (module)
, KEY mdl_courmodu_ins_ix (instance)
, KEY mdl_courmodu_idncou_ix (idnumber, course)
, KEY mdl_courmodu_gro_ix (groupingid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course_modules table retrofitted from MySQL'
;
CREATE TABLE mdl_course_modules_completion (
    id BIGINT(10) NOT NULL auto_increment,
    coursemoduleid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    completionstate TINYINT(1) NOT NULL,
    viewed TINYINT(1),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courmoducomp_cou_ix (coursemoduleid)
, UNIQUE KEY mdl_courmoducomp_usecou_uix (userid, coursemoduleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the completion state (completed or not completed, etc'
;
CREATE TABLE mdl_course_sections (
    id BIGINT(10) NOT NULL auto_increment,
    course BIGINT(10) NOT NULL DEFAULT 0,
    section BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    sequence LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    visible TINYINT(1) NOT NULL DEFAULT 1,
    availability LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_coursect_cousec_uix (course, section)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to define the sections for each course'
;
CREATE TABLE mdl_course_request (
    id BIGINT(10) NOT NULL auto_increment,
    fullname VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    category BIGINT(10) NOT NULL DEFAULT 0,
    reason LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    requester BIGINT(10) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_courrequ_sho_ix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='course requests'
;
CREATE TABLE mdl_course_format_options (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    format VARCHAR(21) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sectionid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_courformopti_couforsec_uix (courseid, format, sectionid, name)
, KEY mdl_courformopti_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores format-specific options for the course or course sect'
;
CREATE TABLE mdl_filter_active (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    active SMALLINT(4) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtacti_confil_uix (contextid, filter)
, KEY mdl_filtacti_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores information about which filters are active in which c'
;
CREATE TABLE mdl_filter_config (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filtconf_confilnam_uix (contextid, filter, name)
, KEY mdl_filtconf_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores per-context configuration settings for filters which '
;
CREATE TABLE mdl_event (
    id BIGINT(10) NOT NULL auto_increment,
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format SMALLINT(4) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    repeatid BIGINT(10) NOT NULL DEFAULT 0,
    modulename VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    instance BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timestart BIGINT(10) NOT NULL DEFAULT 0,
    timeduration BIGINT(10) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 1,
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sequence BIGINT(10) NOT NULL DEFAULT 1,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    subscriptionid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_even_cou_ix (courseid)
, KEY mdl_even_use_ix (userid)
, KEY mdl_even_tim_ix (timestart)
, KEY mdl_even_tim2_ix (timeduration)
, KEY mdl_even_grocouvisuse_ix (groupid, courseid, visible, userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For everything with a time associated to it'
;
CREATE TABLE mdl_cache_filters (
    id BIGINT(10) NOT NULL auto_increment,
    filter VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version BIGINT(10) NOT NULL DEFAULT 0,
    md5key VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawtext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachfilt_filmd5_ix (filter, md5key)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For keeping information about cached data'
;
CREATE TABLE mdl_log (
    id BIGINT(10) NOT NULL auto_increment,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_log_coumodact_ix (course, module, action)
, KEY mdl_log_tim_ix (time)
, KEY mdl_log_act_ix (action)
, KEY mdl_log_usecou_ix (userid, course)
, KEY mdl_log_cmi_ix (cmid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Every action is logged as far as possible'
;
CREATE TABLE mdl_log_queries (
    id BIGINT(10) NOT NULL auto_increment,
    qtype MEDIUMINT(5) NOT NULL,
    sqltext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sqlparams LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    error MEDIUMINT(5) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    backtrace LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    exectime NUMERIC(10,5) NOT NULL,
    timelogged BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Logged database queries.'
;
CREATE TABLE mdl_log_display (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mtable VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    field VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_logdisp_modact_uix (module, action)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='For a particular module/action, specifies a moodle table/fie'
;
CREATE TABLE mdl_message (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mess_use_ix (useridfrom)
, KEY mdl_mess_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all unread messages'
;
CREATE TABLE mdl_message_read (
    id BIGINT(10) NOT NULL auto_increment,
    useridfrom BIGINT(10) NOT NULL DEFAULT 0,
    useridto BIGINT(10) NOT NULL DEFAULT 0,
    subject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullmessageformat SMALLINT(4) DEFAULT 0,
    fullmessagehtml LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    smallmessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    notification TINYINT(1) DEFAULT 0,
    contexturl LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    contexturlname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timeread BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messread_use_ix (useridfrom)
, KEY mdl_messread_use2_ix (useridto)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores all messages that have been read'
;
CREATE TABLE mdl_message_contacts (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contactid BIGINT(10) NOT NULL DEFAULT 0,
    blocked TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messcont_usecon_uix (userid, contactid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Maintains lists of relationships between users'
;
CREATE TABLE mdl_modules (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    search VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_modu_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='modules available in the site'
;
CREATE TABLE mdl_my_pages (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) DEFAULT 0,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    private TINYINT(1) NOT NULL DEFAULT 1,
    sortorder MEDIUMINT(6) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mypage_usepri_ix (userid, private)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Extra user pages for the My Moodle system'
;
CREATE TABLE mdl_sessions (
    id BIGINT(10) NOT NULL auto_increment,
    state BIGINT(10) NOT NULL DEFAULT 0,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    sessdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    firstip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_sess_sta_ix (state)
, UNIQUE KEY mdl_sess_sid_uix (sid)
, KEY mdl_sess_tim_ix (timecreated)
, KEY mdl_sess_tim2_ix (timemodified)
, KEY mdl_sess_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Database based session storage - now recommended'
;
CREATE TABLE mdl_timezone (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    year BIGINT(11) NOT NULL DEFAULT 0,
    tzrule VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    gmtoff BIGINT(11) NOT NULL DEFAULT 0,
    dstoff BIGINT(11) NOT NULL DEFAULT 0,
    dst_month TINYINT(2) NOT NULL DEFAULT 0,
    dst_startday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    dst_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    dst_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
    std_month TINYINT(2) NOT NULL DEFAULT 0,
    std_startday SMALLINT(3) NOT NULL DEFAULT 0,
    std_weekday SMALLINT(3) NOT NULL DEFAULT 0,
    std_skipweeks SMALLINT(3) NOT NULL DEFAULT 0,
    std_time VARCHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '00:00',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Rules for calculating local wall clock time for users'
;
CREATE TABLE mdl_user (
    id BIGINT(10) NOT NULL auto_increment,
    auth VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'manual',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    policyagreed TINYINT(1) NOT NULL DEFAULT 0,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    suspended TINYINT(1) NOT NULL DEFAULT 0,
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    firstname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    emailstop TINYINT(1) NOT NULL DEFAULT 0,
    icq VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    skype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    yahoo VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aim VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    msn VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone1 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    phone2 VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    institution VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    department VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    address VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    city VARCHAR(120) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    country VARCHAR(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lang VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'en',
    calendartype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'gregorian',
    theme VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timezone VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '99',
    firstaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastaccess BIGINT(10) NOT NULL DEFAULT 0,
    lastlogin BIGINT(10) NOT NULL DEFAULT 0,
    currentlogin BIGINT(10) NOT NULL DEFAULT 0,
    lastip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    secret VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    picture BIGINT(10) NOT NULL DEFAULT 0,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 1,
    mailformat TINYINT(1) NOT NULL DEFAULT 1,
    maildigest TINYINT(1) NOT NULL DEFAULT 0,
    maildisplay TINYINT(2) NOT NULL DEFAULT 2,
    autosubscribe TINYINT(1) NOT NULL DEFAULT 1,
    trackforums TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    trustbitmask BIGINT(10) NOT NULL DEFAULT 0,
    imagealt VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    lastnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    firstnamephonetic VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    middlename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    alternatename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_user_mneuse_uix (mnethostid, username)
, KEY mdl_user_del_ix (deleted)
, KEY mdl_user_con_ix (confirmed)
, KEY mdl_user_fir_ix (firstname)
, KEY mdl_user_las_ix (lastname)
, KEY mdl_user_cit_ix (city)
, KEY mdl_user_cou_ix (country)
, KEY mdl_user_las2_ix (lastaccess)
, KEY mdl_user_ema_ix (email)
, KEY mdl_user_aut_ix (auth)
, KEY mdl_user_idn_ix (idnumber)
, KEY mdl_user_fir2_ix (firstnamephonetic)
, KEY mdl_user_las3_ix (lastnamephonetic)
, KEY mdl_user_mid_ix (middlename)
, KEY mdl_user_alt_ix (alternatename)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='One record for each person'
;
CREATE TABLE mdl_user_preferences (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(1333) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userpref_usenam_uix (userid, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Allows modules to store arbitrary user preferences'
;
CREATE TABLE mdl_user_lastaccess (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeaccess BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userlast_usecou_uix (userid, courseid)
, KEY mdl_userlast_use_ix (userid)
, KEY mdl_userlast_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To keep track of course page access times, used in online pa'
;
CREATE TABLE mdl_scale (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scal_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines grading scales'
;
CREATE TABLE mdl_scale_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    scale LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_scalhist_act_ix (action)
, KEY mdl_scalhist_old_ix (oldid)
, KEY mdl_scalhist_cou_ix (courseid)
, KEY mdl_scalhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_stats_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statdail_cou_ix (courseid)
, KEY mdl_statdail_tim_ix (timeend)
, KEY mdl_statdail_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='to accumulate daily stats'
;
CREATE TABLE mdl_stats_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statweek_cou_ix (courseid)
, KEY mdl_statweek_tim_ix (timeend)
, KEY mdl_statweek_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats'
;
CREATE TABLE mdl_stats_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'activity',
    stat1 BIGINT(10) NOT NULL DEFAULT 0,
    stat2 BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statmont_cou_ix (courseid)
, KEY mdl_statmont_tim_ix (timeend)
, KEY mdl_statmont_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats'
;
CREATE TABLE mdl_stats_user_daily (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserdail_cou_ix (courseid)
, KEY mdl_statuserdail_use_ix (userid)
, KEY mdl_statuserdail_rol_ix (roleid)
, KEY mdl_statuserdail_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate daily stats per course/user'
;
CREATE TABLE mdl_stats_user_weekly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statuserweek_cou_ix (courseid)
, KEY mdl_statuserweek_use_ix (userid)
, KEY mdl_statuserweek_rol_ix (roleid)
, KEY mdl_statuserweek_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate weekly stats per course/user'
;
CREATE TABLE mdl_stats_user_monthly (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    timeend BIGINT(10) NOT NULL DEFAULT 0,
    statsreads BIGINT(10) NOT NULL DEFAULT 0,
    statswrites BIGINT(10) NOT NULL DEFAULT 0,
    stattype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_statusermont_cou_ix (courseid)
, KEY mdl_statusermont_use_ix (userid)
, KEY mdl_statusermont_rol_ix (roleid)
, KEY mdl_statusermont_tim_ix (timeend)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To accumulate monthly stats per course/user'
;
CREATE TABLE mdl_post (
    id BIGINT(10) NOT NULL auto_increment,
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL DEFAULT 0,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    moduleid BIGINT(10) NOT NULL DEFAULT 0,
    coursemoduleid BIGINT(10) NOT NULL DEFAULT 0,
    subject VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    summary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    uniquehash VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rating BIGINT(10) NOT NULL DEFAULT 0,
    format BIGINT(10) NOT NULL DEFAULT 0,
    summaryformat TINYINT(2) NOT NULL DEFAULT 0,
    attachment VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    publishstate VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'draft',
    lastmodified BIGINT(10) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_post_iduse_uix (id, userid)
, KEY mdl_post_las_ix (lastmodified)
, KEY mdl_post_mod_ix (module)
, KEY mdl_post_sub_ix (subject)
, KEY mdl_post_use_ix (usermodified)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Generic post table to hold data blog entries etc in differen'
;
CREATE TABLE mdl_role (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    shortname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    archetype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_role_sor_uix (sortorder)
, UNIQUE KEY mdl_role_sho_uix (shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle roles'
;
CREATE TABLE mdl_context (
    id BIGINT(10) NOT NULL auto_increment,
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    instanceid BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    depth TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cont_conins_uix (contextlevel, instanceid)
, KEY mdl_cont_ins_ix (instanceid)
, KEY mdl_cont_pat_ix (path)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='one of these must be set'
;
CREATE TABLE mdl_context_temp (
    id BIGINT(10) NOT NULL,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    depth TINYINT(2) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Used by build_context_path() in upgrade and cron to keep con'
;
CREATE TABLE mdl_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    captype VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextlevel BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    riskbitmask BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_capa_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines all capabilities'
;
CREATE TABLE mdl_role_allow_assign (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowassign BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloassi_rolall_uix (roleid, allowassign)
, KEY mdl_rolealloassi_rol_ix (roleid)
, KEY mdl_rolealloassi_all_ix (allowassign)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can assign what role'
;
CREATE TABLE mdl_role_allow_override (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    allowoverride BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloover_rolall_uix (roleid, allowoverride)
, KEY mdl_rolealloover_rol_ix (roleid)
, KEY mdl_rolealloover_all_ix (allowoverride)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='this defines what role can override what role'
;
CREATE TABLE mdl_role_allow_switch (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    allowswitch BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolealloswit_rolall_uix (roleid, allowswitch)
, KEY mdl_rolealloswit_rol_ix (roleid)
, KEY mdl_rolealloswit_all_ix (allowswitch)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores which which other roles a user is allowed '
;
CREATE TABLE mdl_role_assignments (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_roleassi_sor_ix (sortorder)
, KEY mdl_roleassi_rolcon_ix (roleid, contextid)
, KEY mdl_roleassi_useconrol_ix (userid, contextid, roleid)
, KEY mdl_roleassi_comiteuse_ix (component, itemid, userid)
, KEY mdl_roleassi_rol_ix (roleid)
, KEY mdl_roleassi_con_ix (contextid)
, KEY mdl_roleassi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='assigning roles in different context'
;
CREATE TABLE mdl_role_capabilities (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    permission BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    modifierid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecapa_rolconcap_uix (roleid, contextid, capability)
, KEY mdl_rolecapa_rol_ix (roleid)
, KEY mdl_rolecapa_con_ix (contextid)
, KEY mdl_rolecapa_mod_ix (modifierid)
, KEY mdl_rolecapa_cap_ix (capability)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='permission has to be signed, overriding a capability for a p'
;
CREATE TABLE mdl_role_names (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolename_rolcon_uix (roleid, contextid)
, KEY mdl_rolename_rol_ix (roleid)
, KEY mdl_rolename_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='role names in native strings'
;
CREATE TABLE mdl_role_sortorder (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    roleid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    sortoder BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolesort_userolcon_uix (userid, roleid, contextid)
, KEY mdl_rolesort_use_ix (userid)
, KEY mdl_rolesort_rol_ix (roleid)
, KEY mdl_rolesort_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='sort order of course managers in a course'
;
CREATE TABLE mdl_role_context_levels (
    id BIGINT(10) NOT NULL auto_increment,
    roleid BIGINT(10) NOT NULL,
    contextlevel BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_rolecontleve_conrol_uix (contextlevel, roleid)
, KEY mdl_rolecontleve_rol_ix (roleid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists which roles can be assigned at which context levels. T'
;
CREATE TABLE mdl_user_info_field (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'shortname',
    name LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    datatype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    categoryid BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    required TINYINT(2) NOT NULL DEFAULT 0,
    locked TINYINT(2) NOT NULL DEFAULT 0,
    visible SMALLINT(4) NOT NULL DEFAULT 0,
    forceunique TINYINT(2) NOT NULL DEFAULT 0,
    signup TINYINT(2) NOT NULL DEFAULT 0,
    defaultdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultdataformat TINYINT(2) NOT NULL DEFAULT 0,
    param1 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param2 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param3 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param4 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    param5 LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable user profile fields'
;
CREATE TABLE mdl_user_info_category (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Customisable fields categories'
;
CREATE TABLE mdl_user_info_data (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    fieldid BIGINT(10) NOT NULL DEFAULT 0,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dataformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userinfodata_usefie_uix (userid, fieldid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Data for the customisable user fields'
;
CREATE TABLE mdl_question_categories (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL DEFAULT 0,
    info LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    infoformat TINYINT(2) NOT NULL DEFAULT 0,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parent BIGINT(10) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 999,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quescate_con_ix (contextid)
, KEY mdl_quescate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Categories are for grouping questions'
;
CREATE TABLE mdl_question (
    id BIGINT(10) NOT NULL auto_increment,
    category BIGINT(10) NOT NULL DEFAULT 0,
    parent BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questiontext LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    questiontextformat TINYINT(2) NOT NULL DEFAULT 0,
    generalfeedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    generalfeedbackformat TINYINT(2) NOT NULL DEFAULT 0,
    defaultmark NUMERIC(12,7) NOT NULL DEFAULT 1,
    penalty NUMERIC(12,7) NOT NULL DEFAULT 0.3333333,
    qtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    length BIGINT(10) NOT NULL DEFAULT 1,
    stamp VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hidden TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    createdby BIGINT(10),
    modifiedby BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_ques_cat_ix (category)
, KEY mdl_ques_par_ix (parent)
, KEY mdl_ques_cre_ix (createdby)
, KEY mdl_ques_mod_ix (modifiedby)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The questions themselves'
;
CREATE TABLE mdl_question_answers (
    id BIGINT(10) NOT NULL auto_increment,
    question BIGINT(10) NOT NULL DEFAULT 0,
    answer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    answerformat TINYINT(2) NOT NULL DEFAULT 0,
    fraction NUMERIC(12,7) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    feedbackformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesansw_que_ix (question)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Answers, with a fractional grade (0-1) and feedback'
;
CREATE TABLE mdl_question_hints (
    id BIGINT(10) NOT NULL auto_increment,
    questionid BIGINT(10) NOT NULL,
    hint LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    hintformat SMALLINT(4) NOT NULL DEFAULT 0,
    shownumcorrect TINYINT(1),
    clearwrong TINYINT(1),
    options VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_queshint_que_ix (questionid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the the part of the question definition that gives di'
;
CREATE TABLE mdl_question_usages (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    preferredbehaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesusag_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table\'s main purpose it to assign a unique id to each a'
;
CREATE TABLE mdl_question_attempts (
    id BIGINT(10) NOT NULL auto_increment,
    questionusageid BIGINT(10) NOT NULL,
    slot BIGINT(10) NOT NULL,
    behaviour VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10) NOT NULL DEFAULT 1,
    maxmark NUMERIC(12,7) NOT NULL,
    minfraction NUMERIC(12,7) NOT NULL,
    maxfraction NUMERIC(12,7) NOT NULL DEFAULT 1,
    flagged TINYINT(1) NOT NULL DEFAULT 0,
    questionsummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    rightanswer LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    responsesummary LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesatte_queslo_uix (questionusageid, slot)
, KEY mdl_quesatte_que_ix (questionid)
, KEY mdl_quesatte_que2_ix (questionusageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each row here corresponds to an attempt at one question, as '
;
CREATE TABLE mdl_question_attempt_steps (
    id BIGINT(10) NOT NULL auto_increment,
    questionattemptid BIGINT(10) NOT NULL,
    sequencenumber BIGINT(10) NOT NULL,
    state VARCHAR(13) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fraction NUMERIC(12,7),
    timecreated BIGINT(10) NOT NULL,
    userid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestep_queseq_uix (questionattemptid, sequencenumber)
, KEY mdl_quesattestep_que_ix (questionattemptid)
, KEY mdl_quesattestep_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores one step in in a question attempt. As well as the dat'
;
CREATE TABLE mdl_question_attempt_step_data (
    id BIGINT(10) NOT NULL auto_increment,
    attemptstepid BIGINT(10) NOT NULL,
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_quesattestepdata_attna_uix (attemptstepid, name)
, KEY mdl_quesattestepdata_att_ix (attemptstepid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each question_attempt_step has an associative array of the d'
;
CREATE TABLE mdl_question_statistics (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    slot BIGINT(10),
    subquestion SMALLINT(4) NOT NULL,
    variant BIGINT(10),
    s BIGINT(10) NOT NULL DEFAULT 0,
    effectiveweight NUMERIC(15,5),
    negcovar TINYINT(2) NOT NULL DEFAULT 0,
    discriminationindex NUMERIC(15,5),
    discriminativeefficiency NUMERIC(15,5),
    sd NUMERIC(15,10),
    facility NUMERIC(15,10),
    subquestions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    maxmark NUMERIC(12,7),
    positions LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    randomguessscore NUMERIC(12,7),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Statistics for individual questions used in an activity.'
;
CREATE TABLE mdl_question_response_analysis (
    id BIGINT(10) NOT NULL auto_increment,
    hashcode VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    whichtries VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL,
    questionid BIGINT(10) NOT NULL,
    variant BIGINT(10),
    subqid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aid VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    response LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    credit NUMERIC(15,5) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Analysis of student responses given to questions.'
;
CREATE TABLE mdl_question_response_count (
    id BIGINT(10) NOT NULL auto_increment,
    analysisid BIGINT(10) NOT NULL,
    try BIGINT(10) NOT NULL,
    rcount BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_quesrespcoun_ana_ix (analysisid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Count for each responses for each try at a question.'
;
CREATE TABLE mdl_mnet_application (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    display_name VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpc_server_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_land_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    sso_jump_url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about applications on remote hosts'
;
CREATE TABLE mdl_mnet_host (
    id BIGINT(10) NOT NULL auto_increment,
    deleted TINYINT(1) NOT NULL DEFAULT 0,
    wwwroot VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ip_address VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    public_key LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    public_key_expires BIGINT(10) NOT NULL DEFAULT 0,
    transport TINYINT(2) NOT NULL DEFAULT 0,
    portno MEDIUMINT(5) NOT NULL DEFAULT 0,
    last_connect_time BIGINT(10) NOT NULL DEFAULT 0,
    last_log_id BIGINT(10) NOT NULL DEFAULT 0,
    force_theme TINYINT(1) NOT NULL DEFAULT 0,
    theme VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    applicationid BIGINT(10) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnethost_app_ix (applicationid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the local and remote hosts for RPC'
;
CREATE TABLE mdl_mnet_host2service (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    publish TINYINT(1) NOT NULL DEFAULT 0,
    subscribe TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnethost_hosser_uix (hostid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about the services for a given host'
;
CREATE TABLE mdl_mnet_log (
    id BIGINT(10) NOT NULL auto_increment,
    hostid BIGINT(10) NOT NULL DEFAULT 0,
    remoteid BIGINT(10) NOT NULL DEFAULT 0,
    time BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    ip VARCHAR(45) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    course BIGINT(10) NOT NULL DEFAULT 0,
    coursename VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    module VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cmid BIGINT(10) NOT NULL DEFAULT 0,
    action VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    info VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetlog_hosusecou_ix (hostid, userid, course)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 0,
    help LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    profile LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filename VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    static TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_mnetrpc_enaxml_ix (enabled, xmlrpcpath)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Functions or methods that we may publish or subscribe to'
;
CREATE TABLE mdl_mnet_remote_rpc (
    id BIGINT(10) NOT NULL auto_increment,
    functionname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    xmlrpcpath VARCHAR(80) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    plugintype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pluginname VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes functions that might be called remotely'
;
CREATE TABLE mdl_mnet_service (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    apiversion VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    offer TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A service is a group of functions'
;
CREATE TABLE mdl_mnet_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_remote_service2rpc (
    id BIGINT(10) NOT NULL auto_increment,
    serviceid BIGINT(10) NOT NULL DEFAULT 0,
    rpcid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetremoserv_rpcser_uix (rpcid, serviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Group functions or methods under a service'
;
CREATE TABLE mdl_mnet_session (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    token VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnethostid BIGINT(10) NOT NULL DEFAULT 0,
    useragent VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirm_timeout BIGINT(10) NOT NULL DEFAULT 0,
    session_id VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetsess_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store session data from users migrating to other sites'
;
CREATE TABLE mdl_mnet_sso_access_control (
    id BIGINT(10) NOT NULL auto_increment,
    username VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    mnet_host_id BIGINT(10) NOT NULL DEFAULT 0,
    accessctrl VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'allow',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_mnetssoaccecont_mneuse_uix (mnet_host_id, username)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Users by host permitted (or not) to login from a remote prov'
;
CREATE TABLE mdl_events_queue (
    id BIGINT(10) NOT NULL auto_increment,
    eventdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    stackdump LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    userid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing queued events. It stores only one '
;
CREATE TABLE mdl_events_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    eventname VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfile VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    handlerfunction LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    schedule VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    internal TINYINT(2) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_evenhand_evecom_uix (eventname, component)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table is for storing which components requests what typ'
;
CREATE TABLE mdl_events_queue_handlers (
    id BIGINT(10) NOT NULL auto_increment,
    queuedeventid BIGINT(10) NOT NULL,
    handlerid BIGINT(10) NOT NULL,
    status BIGINT(10),
    errormessage LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_evenqueuhand_que_ix (queuedeventid)
, KEY mdl_evenqueuhand_han_ix (handlerid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This is the list of queued handlers for processing. The even'
;
CREATE TABLE mdl_grade_outcomes (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    usermodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutc_cou_ix (courseid)
, KEY mdl_gradoutc_sca_ix (scaleid)
, KEY mdl_gradoutc_use_ix (usermodified)
, UNIQUE KEY mdl_gradoutc_cousho_uix (courseid, shortname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table describes the outcomes used in the system. An out'
;
CREATE TABLE mdl_grade_outcomes_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    outcomeid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutccour_cou_ix (courseid)
, KEY mdl_gradoutccour_out_ix (outcomeid)
, UNIQUE KEY mdl_gradoutccour_couout_uix (courseid, outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores what outcomes are used in what courses.'
;
CREATE TABLE mdl_grade_categories (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcate_cou_ix (courseid)
, KEY mdl_gradcate_par_ix (parent)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about categories, used for grou'
;
CREATE TABLE mdl_grade_items (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditem_locloc_ix (locked, locktime)
, KEY mdl_graditem_itenee_ix (itemtype, needsupdate)
, KEY mdl_graditem_gra_ix (gradetype)
, KEY mdl_graditem_idncou_ix (idnumber, courseid)
, KEY mdl_graditem_cou_ix (courseid)
, KEY mdl_graditem_cat_ix (categoryid)
, KEY mdl_graditem_sca_ix (scaleid)
, KEY mdl_graditem_out_ix (outcomeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table keeps information about gradeable items (ie colum'
;
CREATE TABLE mdl_grade_grades (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgrad_locloc_ix (locked, locktime)
, KEY mdl_gradgrad_ite_ix (itemid)
, KEY mdl_gradgrad_use_ix (userid)
, KEY mdl_gradgrad_raw_ix (rawscaleid)
, KEY mdl_gradgrad_use2_ix (usermodified)
, UNIQUE KEY mdl_gradgrad_useite_uix (userid, itemid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='grade_grades  This table keeps individual grades for each us'
;
CREATE TABLE mdl_grade_outcomes_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    scaleid BIGINT(10),
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradoutchist_act_ix (action)
, KEY mdl_gradoutchist_old_ix (oldid)
, KEY mdl_gradoutchist_cou_ix (courseid)
, KEY mdl_gradoutchist_sca_ix (scaleid)
, KEY mdl_gradoutchist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_categories_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10) NOT NULL,
    parent BIGINT(10),
    depth BIGINT(10) NOT NULL DEFAULT 0,
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    aggregation BIGINT(10) NOT NULL DEFAULT 0,
    keephigh BIGINT(10) NOT NULL DEFAULT 0,
    droplow BIGINT(10) NOT NULL DEFAULT 0,
    aggregateonlygraded TINYINT(1) NOT NULL DEFAULT 0,
    aggregateoutcomes TINYINT(1) NOT NULL DEFAULT 0,
    aggregatesubcats TINYINT(1) NOT NULL DEFAULT 0,
    hidden TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradcatehist_act_ix (action)
, KEY mdl_gradcatehist_old_ix (oldid)
, KEY mdl_gradcatehist_cou_ix (courseid)
, KEY mdl_gradcatehist_par_ix (parent)
, KEY mdl_gradcatehist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_categories'
;
CREATE TABLE mdl_grade_items_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    courseid BIGINT(10),
    categoryid BIGINT(10),
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemmodule VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci,
    iteminstance BIGINT(10),
    itemnumber BIGINT(10),
    iteminfo LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    idnumber VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    calculation LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    gradetype SMALLINT(4) NOT NULL DEFAULT 1,
    grademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    grademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    scaleid BIGINT(10),
    outcomeid BIGINT(10),
    gradepass NUMERIC(10,5) NOT NULL DEFAULT 0,
    multfactor NUMERIC(10,5) NOT NULL DEFAULT 1.0,
    plusfactor NUMERIC(10,5) NOT NULL DEFAULT 0,
    aggregationcoef NUMERIC(10,5) NOT NULL DEFAULT 0,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    needsupdate BIGINT(10) NOT NULL DEFAULT 0,
    display BIGINT(10) NOT NULL DEFAULT 0,
    decimals TINYINT(1),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graditemhist_act_ix (action)
, KEY mdl_graditemhist_old_ix (oldid)
, KEY mdl_graditemhist_cou_ix (courseid)
, KEY mdl_graditemhist_cat_ix (categoryid)
, KEY mdl_graditemhist_sca_ix (scaleid)
, KEY mdl_graditemhist_out_ix (outcomeid)
, KEY mdl_graditemhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History of grade_items'
;
CREATE TABLE mdl_grade_grades_history (
    id BIGINT(10) NOT NULL auto_increment,
    action BIGINT(10) NOT NULL DEFAULT 0,
    oldid BIGINT(10) NOT NULL,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timemodified BIGINT(10),
    loggeduser BIGINT(10),
    itemid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    rawgrade NUMERIC(10,5),
    rawgrademax NUMERIC(10,5) NOT NULL DEFAULT 100,
    rawgrademin NUMERIC(10,5) NOT NULL DEFAULT 0,
    rawscaleid BIGINT(10),
    usermodified BIGINT(10),
    finalgrade NUMERIC(10,5),
    hidden BIGINT(10) NOT NULL DEFAULT 0,
    locked BIGINT(10) NOT NULL DEFAULT 0,
    locktime BIGINT(10) NOT NULL DEFAULT 0,
    exported BIGINT(10) NOT NULL DEFAULT 0,
    overridden BIGINT(10) NOT NULL DEFAULT 0,
    excluded BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat BIGINT(10) NOT NULL DEFAULT 0,
    information LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    informationformat BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradgradhist_act_ix (action)
, KEY mdl_gradgradhist_tim_ix (timemodified)
, KEY mdl_gradgradhist_old_ix (oldid)
, KEY mdl_gradgradhist_ite_ix (itemid)
, KEY mdl_gradgradhist_use_ix (userid)
, KEY mdl_gradgradhist_raw_ix (rawscaleid)
, KEY mdl_gradgradhist_use2_ix (usermodified)
, KEY mdl_gradgradhist_log_ix (loggeduser)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='History table'
;
CREATE TABLE mdl_grade_import_newitem (
    id BIGINT(10) NOT NULL auto_increment,
    itemname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimponewi_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='temporary table for storing new grade_item names from grade '
;
CREATE TABLE mdl_grade_import_values (
    id BIGINT(10) NOT NULL auto_increment,
    itemid BIGINT(10),
    newgradeitem BIGINT(10),
    userid BIGINT(10) NOT NULL,
    finalgrade NUMERIC(10,5),
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    importcode BIGINT(10) NOT NULL,
    importer BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradimpovalu_ite_ix (itemid)
, KEY mdl_gradimpovalu_new_ix (newgradeitem)
, KEY mdl_gradimpovalu_imp_ix (importer)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Temporary table for importing grades'
;
CREATE TABLE mdl_tag (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    rawname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    flag SMALLINT(4) DEFAULT 0,
    timemodified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tag_nam_uix (name)
, UNIQUE KEY mdl_tag_idnam_uix (id, name)
, KEY mdl_tag_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tag table - this generic table will replace the old "tags" t'
;
CREATE TABLE mdl_tag_correlation (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    correlatedtags LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_tagcorr_tag_ix (tagid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The rationale for the \'tag_correlation\' table is performance'
;
CREATE TABLE mdl_tag_instance (
    id BIGINT(10) NOT NULL auto_increment,
    tagid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    itemtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    contextid BIGINT(10),
    tiuserid BIGINT(10) NOT NULL DEFAULT 0,
    ordering BIGINT(10),
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_taginst_iteitetagtiu_uix (itemtype, itemid, tagid, tiuserid)
, KEY mdl_taginst_tag_ix (tagid)
, KEY mdl_taginst_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='tag_instance table holds the information of associations bet'
;
CREATE TABLE mdl_groups (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    enrolmentkey VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
    picture BIGINT(10) NOT NULL DEFAULT 0,
    hidepicture TINYINT(1) NOT NULL DEFAULT 0,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn_ix (idnumber)
, KEY mdl_grou_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents a group.'
;
CREATE TABLE mdl_groupings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL DEFAULT 0,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grou_idn2_ix (idnumber)
, KEY mdl_grou_cou2_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='A grouping is a collection of groups. WAS: groups_groupings'
;
CREATE TABLE mdl_groups_members (
    id BIGINT(10) NOT NULL auto_increment,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_groumemb_gro_ix (groupid)
, KEY mdl_groumemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a group.'
;
CREATE TABLE mdl_groupings_groups (
    id BIGINT(10) NOT NULL auto_increment,
    groupingid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_grougrou_gro_ix (groupingid)
, KEY mdl_grougrou_gro2_ix (groupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a grouping to a group (note, groups can be in multiple '
;
CREATE TABLE mdl_cohort (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    name VARCHAR(254) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    idnumber VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_coho_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Each record represents one cohort (aka site-wide group).'
;
CREATE TABLE mdl_cohort_members (
    id BIGINT(10) NOT NULL auto_increment,
    cohortid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    timeadded BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_cohomemb_cohuse_uix (cohortid, userid)
, KEY mdl_cohomemb_coh_ix (cohortid)
, KEY mdl_cohomemb_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Link a user to a cohort.'
;
CREATE TABLE mdl_user_private_key (
    id BIGINT(10) NOT NULL auto_increment,
    script VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10),
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userprivkey_scrval_ix (script, value)
, KEY mdl_userprivkey_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='access keys used in cookieless scripts - rss, etc.'
;
CREATE TABLE mdl_grade_letters (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    lowerboundary NUMERIC(10,5) NOT NULL,
    letter VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradlett_conlowlet_uix (contextid, lowerboundary, letter)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Repository for grade letters, for courses and other moodle e'
;
CREATE TABLE mdl_cache_flags (
    id BIGINT(10) NOT NULL auto_increment,
    flagtype VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    expiry BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_cachflag_fla_ix (flagtype)
, KEY mdl_cachflag_nam_ix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Cache of time-sensitive flags'
;
CREATE TABLE mdl_grade_settings (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradsett_counam_uix (courseid, name)
, KEY mdl_gradsett_cou_ix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='gradebook settings'
;
CREATE TABLE mdl_webdav_locks (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    path VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expiry BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    recursive TINYINT(1) NOT NULL DEFAULT 0,
    exclusivelock TINYINT(1) NOT NULL DEFAULT 0,
    created BIGINT(10) NOT NULL DEFAULT 0,
    modified BIGINT(10) NOT NULL DEFAULT 0,
    owner VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_webdlock_pat_ix (path)
, KEY mdl_webdlock_exp_ix (expiry)
, UNIQUE KEY mdl_webdlock_tok_uix (token)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Resource locks for WebDAV users'
;
CREATE TABLE mdl_portfolio_instance (
    id BIGINT(10) NOT NULL auto_increment,
    plugin VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='base table (not including config data) for instances of port'
;
CREATE TABLE mdl_portfolio_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstconf_nam_ix (name)
, KEY mdl_portinstconf_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='config for portfolio plugin instances'
;
CREATE TABLE mdl_portfolio_instance_user (
    id BIGINT(10) NOT NULL auto_increment,
    instance BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portinstuser_ins_ix (instance)
, KEY mdl_portinstuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='user data for portfolio instances.'
;
CREATE TABLE mdl_portfolio_log (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    time BIGINT(10) NOT NULL,
    portfolio BIGINT(10) NOT NULL,
    caller_class VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_file VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    caller_component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    caller_sha1 VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tempdataid BIGINT(10) NOT NULL DEFAULT 0,
    returnurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    continueurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_portlog_use_ix (userid)
, KEY mdl_portlog_por_ix (portfolio)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='log of portfolio transfers (used to later check for duplicat'
;
CREATE TABLE mdl_portfolio_tempdata (
    id BIGINT(10) NOT NULL auto_increment,
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    expirytime BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    instance BIGINT(10) DEFAULT 0,
    queued TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_porttemp_use_ix (userid)
, KEY mdl_porttemp_ins_ix (instance)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='stores temporary data for portfolio exports. the id of this '
;
CREATE TABLE mdl_message_providers (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    component VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capability VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_messprov_comnam_uix (component, name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores the message providers (modules and core sy'
;
CREATE TABLE mdl_message_processors (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(166) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of message output plugins'
;
CREATE TABLE mdl_message_working (
    id BIGINT(10) NOT NULL auto_increment,
    unreadmessageid BIGINT(10) NOT NULL,
    processorid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_messwork_unr_ix (unreadmessageid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Lists all the messages and processors that need to be proces'
;
CREATE TABLE mdl_files (
    id BIGINT(10) NOT NULL auto_increment,
    contenthash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pathnamehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filearea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    filepath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    filename VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    userid BIGINT(10),
    filesize BIGINT(10) NOT NULL,
    mimetype VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    status BIGINT(10) NOT NULL DEFAULT 0,
    source LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    author VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    license VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
    referencefileid BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_file_comfilconite_ix (component, filearea, contextid, itemid)
, KEY mdl_file_con_ix (contenthash)
, UNIQUE KEY mdl_file_pat_uix (pathnamehash)
, KEY mdl_file_con2_ix (contextid)
, KEY mdl_file_use_ix (userid)
, KEY mdl_file_ref_ix (referencefileid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='description of files, content is stored in sha1 file pool'
;
CREATE TABLE mdl_files_reference (
    id BIGINT(10) NOT NULL auto_increment,
    repositoryid BIGINT(10) NOT NULL,
    lastsync BIGINT(10),
    reference LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    referencehash VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_filerefe_repref_uix (repositoryid, referencehash)
, KEY mdl_filerefe_rep_ix (repositoryid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Store files references'
;
CREATE TABLE mdl_repository (
    id BIGINT(10) NOT NULL auto_increment,
    type VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible TINYINT(1) DEFAULT 1,
    sortorder BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instances (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    typeid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    contextid BIGINT(10) NOT NULL,
    username VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    password VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10),
    timemodified BIGINT(10),
    readonly TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table contains one entry for every configured external '
;
CREATE TABLE mdl_repository_instance_config (
    id BIGINT(10) NOT NULL auto_increment,
    instanceid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='The config for intances'
;
CREATE TABLE mdl_backup_courses (
    id BIGINT(10) NOT NULL auto_increment,
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    laststarttime BIGINT(10) NOT NULL DEFAULT 0,
    lastendtime BIGINT(10) NOT NULL DEFAULT 0,
    laststatus VARCHAR(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '5',
    nextstarttime BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backcour_cou_uix (courseid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store every course backup status'
;
CREATE TABLE mdl_block (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    cron BIGINT(10) NOT NULL DEFAULT 0,
    lastcron BIGINT(10) NOT NULL DEFAULT 0,
    visible TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_bloc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='contains all installed blocks'
;
CREATE TABLE mdl_block_instances (
    id BIGINT(10) NOT NULL auto_increment,
    blockname VARCHAR(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    parentcontextid BIGINT(10) NOT NULL,
    showinsubcontexts SMALLINT(4) NOT NULL,
    pagetypepattern VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpagepattern VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci,
    defaultregion VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    defaultweight BIGINT(10) NOT NULL,
    configdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blocinst_parshopagsub_ix (parentcontextid, showinsubcontexts, pagetypepattern, subpagepattern)
, KEY mdl_blocinst_par_ix (parentcontextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores block instances. The type of block this is'
;
CREATE TABLE mdl_block_positions (
    id BIGINT(10) NOT NULL auto_increment,
    blockinstanceid BIGINT(10) NOT NULL,
    contextid BIGINT(10) NOT NULL,
    pagetype VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    subpage VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    visible SMALLINT(4) NOT NULL,
    region VARCHAR(16) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    weight BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_blocposi_bloconpagsub_uix (blockinstanceid, contextid, pagetype, subpage)
, KEY mdl_blocposi_blo_ix (blockinstanceid)
, KEY mdl_blocposi_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the position of a sticky block_instance on a another '
;
CREATE TABLE mdl_comments (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    commentarea VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    content LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    format TINYINT(2) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle comments module'
;
CREATE TABLE mdl_external_services (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    enabled TINYINT(1) NOT NULL,
    requiredcapability VARCHAR(150) CHARACTER SET utf8 COLLATE utf8_general_ci,
    restrictedusers TINYINT(1) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10),
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    downloadfiles TINYINT(1) NOT NULL DEFAULT 0,
    uploadfiles TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_exteserv_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='built in and custom external services'
;
CREATE TABLE mdl_external_functions (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    methodname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classpath VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    capabilities VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_extefunc_nam_uix (name)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='list of all external functions'
;
CREATE TABLE mdl_external_services_functions (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    functionname VARCHAR(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservfunc_ext_ix (externalserviceid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='lists functions available in each service group'
;
CREATE TABLE mdl_external_services_users (
    id BIGINT(10) NOT NULL auto_increment,
    externalserviceid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_exteservuser_ext_ix (externalserviceid)
, KEY mdl_exteservuser_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='users allowed to use services with restricted users flag'
;
CREATE TABLE mdl_external_tokens (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    tokentype SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    externalserviceid BIGINT(10) NOT NULL,
    sid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci,
    contextid BIGINT(10) NOT NULL,
    creatorid BIGINT(10) NOT NULL DEFAULT 1,
    iprestriction VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    validuntil BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    lastaccess BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_extetoke_use_ix (userid)
, KEY mdl_extetoke_ext_ix (externalserviceid)
, KEY mdl_extetoke_con_ix (contextid)
, KEY mdl_extetoke_cre_ix (creatorid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Security tokens for accessing of external services'
;
CREATE TABLE mdl_blog_association (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    blogid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogasso_con_ix (contextid)
, KEY mdl_blogasso_blo_ix (blogid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Associations of blog entries with courses and module instanc'
;
CREATE TABLE mdl_blog_external (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    url LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    filtertags VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    failedlastsync TINYINT(1) NOT NULL DEFAULT 0,
    timemodified BIGINT(10),
    timefetched BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_blogexte_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='External blog links used for RSS copying of blog entries to '
;
CREATE TABLE mdl_rating (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    ratingarea VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    scaleid BIGINT(10) NOT NULL,
    rating BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_rati_comratconite_ix (component, ratingarea, contextid, itemid)
, KEY mdl_rati_con_ix (contextid)
, KEY mdl_rati_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='moodle ratings'
;
CREATE TABLE mdl_license (
    id BIGINT(10) NOT NULL auto_increment,
    shortname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    fullname LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    source VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    enabled TINYINT(1) NOT NULL DEFAULT 1,
    version BIGINT(10) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='store licenses used by moodle'
;
CREATE TABLE mdl_registration_hubs (
    id BIGINT(10) NOT NULL auto_increment,
    token VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hubname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    confirmed TINYINT(1) NOT NULL DEFAULT 0,
    secret VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='hub where the site is registered on with their associated to'
;
CREATE TABLE mdl_backup_controllers (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    operation VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'backup',
    type VARCHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    itemid BIGINT(10) NOT NULL,
    format VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    interactive SMALLINT(4) NOT NULL,
    purpose SMALLINT(4) NOT NULL,
    userid BIGINT(10) NOT NULL,
    status SMALLINT(4) NOT NULL,
    execution SMALLINT(4) NOT NULL,
    executiontime BIGINT(10) NOT NULL,
    checksum VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    controller LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_backcont_typite_ix (type, itemid)
, UNIQUE KEY mdl_backcont_bac_uix (backupid)
, KEY mdl_backcont_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store the backup_controllers as they are used'
;
CREATE TABLE mdl_backup_logs (
    id BIGINT(10) NOT NULL auto_increment,
    backupid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    loglevel SMALLINT(4) NOT NULL,
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_backlogs_bacid_uix (backupid, id)
, KEY mdl_backlogs_bac_ix (backupid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='To store all the logs from backup and restore operations (by'
;
CREATE TABLE mdl_profiling (
    id BIGINT(10) NOT NULL auto_increment,
    runid VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    data LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    totalexecutiontime BIGINT(10) NOT NULL,
    totalcputime BIGINT(10) NOT NULL,
    totalcalls BIGINT(10) NOT NULL,
    totalmemory BIGINT(10) NOT NULL,
    runreference TINYINT(2) NOT NULL DEFAULT 0,
    runcomment VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_prof_urlrun_ix (url, runreference)
, KEY mdl_prof_timrun_ix (timecreated, runreference)
, UNIQUE KEY mdl_prof_run_uix (runid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores the results of all the profiling runs'
;
CREATE TABLE mdl_course_published (
    id BIGINT(10) NOT NULL auto_increment,
    huburl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    courseid BIGINT(10) NOT NULL,
    timepublished BIGINT(10) NOT NULL,
    enrollable TINYINT(1) NOT NULL DEFAULT 1,
    hubcourseid BIGINT(10) NOT NULL,
    status TINYINT(1) DEFAULT 0,
    timechecked BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Information about how and when an local courses were publish'
;
CREATE TABLE mdl_grading_areas (
    id BIGINT(10) NOT NULL auto_increment,
    contextid BIGINT(10) NOT NULL,
    component VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    areaname VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    activemethod VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_gradarea_concomare_uix (contextid, component, areaname)
, KEY mdl_gradarea_con_ix (contextid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Identifies gradable areas where advanced grading can happen.'
;
CREATE TABLE mdl_grading_definitions (
    id BIGINT(10) NOT NULL auto_increment,
    areaid BIGINT(10) NOT NULL,
    method VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    descriptionformat TINYINT(2),
    status BIGINT(10) NOT NULL DEFAULT 0,
    copiedfromid BIGINT(10),
    timecreated BIGINT(10) NOT NULL,
    usercreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    timecopied BIGINT(10) DEFAULT 0,
    options LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_graddefi_are_ix (areaid)
, KEY mdl_graddefi_use_ix (usermodified)
, UNIQUE KEY mdl_graddefi_aremet_uix (areaid, method)
, KEY mdl_graddefi_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Contains the basic information about an advanced grading for'
;
CREATE TABLE mdl_grading_instances (
    id BIGINT(10) NOT NULL auto_increment,
    definitionid BIGINT(10) NOT NULL,
    raterid BIGINT(10) NOT NULL,
    itemid BIGINT(10),
    rawgrade NUMERIC(10,5),
    status BIGINT(10) NOT NULL DEFAULT 0,
    feedback LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    feedbackformat TINYINT(2),
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_gradinst_def_ix (definitionid)
, KEY mdl_gradinst_rat_ix (raterid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Grading form instance is an assessment record for one gradab'
;
CREATE TABLE mdl_event_subscriptions (
    id BIGINT(10) NOT NULL auto_increment,
    url VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    courseid BIGINT(10) NOT NULL DEFAULT 0,
    groupid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    eventtype VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pollinterval BIGINT(10) NOT NULL DEFAULT 0,
    lastupdated BIGINT(10),
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Tracks subscriptions to remote calendars.'
;
CREATE TABLE mdl_badge (
    id BIGINT(10) NOT NULL auto_increment,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    description LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    timecreated BIGINT(10) NOT NULL DEFAULT 0,
    timemodified BIGINT(10) NOT NULL DEFAULT 0,
    usercreated BIGINT(10) NOT NULL,
    usermodified BIGINT(10) NOT NULL,
    issuername VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuerurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    issuercontact VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
    expiredate BIGINT(10),
    expireperiod BIGINT(10),
    type TINYINT(1) NOT NULL DEFAULT 1,
    courseid BIGINT(10),
    message LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    messagesubject LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    attachment TINYINT(1) NOT NULL DEFAULT 1,
    notification TINYINT(1) NOT NULL DEFAULT 1,
    status TINYINT(1) NOT NULL DEFAULT 0,
    nextcron BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badg_typ_ix (type)
, KEY mdl_badg_cou_ix (courseid)
, KEY mdl_badg_use_ix (usermodified)
, KEY mdl_badg_use2_ix (usercreated)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines badge'
;
CREATE TABLE mdl_badge_criteria (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    criteriatype BIGINT(10),
    method TINYINT(1) NOT NULL DEFAULT 1,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcrit_cri_ix (criteriatype)
, UNIQUE KEY mdl_badgcrit_badcri_uix (badgeid, criteriatype)
, KEY mdl_badgcrit_bad_ix (badgeid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria for issuing badges'
;
CREATE TABLE mdl_badge_criteria_param (
    id BIGINT(10) NOT NULL auto_increment,
    critid BIGINT(10) NOT NULL,
    name VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    value VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritpara_cri_ix (critid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines parameters for badges criteria'
;
CREATE TABLE mdl_badge_issued (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL DEFAULT 0,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    uniquehash LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
    dateissued BIGINT(10) NOT NULL DEFAULT 0,
    dateexpire BIGINT(10),
    visible TINYINT(1) NOT NULL DEFAULT 0,
    issuernotified BIGINT(10),
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_badgissu_baduse_uix (badgeid, userid)
, KEY mdl_badgissu_bad_ix (badgeid)
, KEY mdl_badgissu_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines issued badges'
;
CREATE TABLE mdl_badge_criteria_met (
    id BIGINT(10) NOT NULL auto_increment,
    issuedid BIGINT(10),
    critid BIGINT(10) NOT NULL,
    userid BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgcritmet_cri_ix (critid)
, KEY mdl_badgcritmet_use_ix (userid)
, KEY mdl_badgcritmet_iss_ix (issuedid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines criteria that were met for an issued badge'
;
CREATE TABLE mdl_badge_manual_award (
    id BIGINT(10) NOT NULL auto_increment,
    badgeid BIGINT(10) NOT NULL,
    recipientid BIGINT(10) NOT NULL,
    issuerid BIGINT(10) NOT NULL,
    issuerrole BIGINT(10) NOT NULL,
    datemet BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgmanuawar_bad_ix (badgeid)
, KEY mdl_badgmanuawar_rec_ix (recipientid)
, KEY mdl_badgmanuawar_iss_ix (issuerid)
, KEY mdl_badgmanuawar_iss2_ix (issuerrole)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Track manual award criteria for badges'
;
CREATE TABLE mdl_badge_backpack (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    email VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackurl VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    backpackuid BIGINT(10) NOT NULL,
    autosync TINYINT(1) NOT NULL DEFAULT 0,
    password VARCHAR(50) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgback_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Defines settings for connecting external backpack'
;
CREATE TABLE mdl_badge_external (
    id BIGINT(10) NOT NULL auto_increment,
    backpackid BIGINT(10) NOT NULL,
    collectionid BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_badgexte_bac_ix (backpackid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Setting for external badges display'
;
CREATE TABLE mdl_user_devices (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL DEFAULT 0,
    appid VARCHAR(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    name VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    model VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    platform VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    version VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    pushid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    uuid VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    timecreated BIGINT(10) NOT NULL,
    timemodified BIGINT(10) NOT NULL,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_userdevi_pususe_uix (pushid, userid)
, UNIQUE KEY mdl_userdevi_puspla_uix (pushid, platform)
, KEY mdl_userdevi_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='This table stores user\'s mobile devices information in order'
;
CREATE TABLE mdl_user_password_resets (
    id BIGINT(10) NOT NULL auto_increment,
    userid BIGINT(10) NOT NULL,
    timerequested BIGINT(10) NOT NULL,
    timererequested BIGINT(10) NOT NULL DEFAULT 0,
    token VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_userpassrese_use_ix (userid)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='table tracking password reset confirmation tokens'
;
CREATE TABLE mdl_lock_db (
    id BIGINT(10) NOT NULL auto_increment,
    resourcekey VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    expires BIGINT(10),
    owner VARCHAR(36) CHARACTER SET utf8 COLLATE utf8_general_ci,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_lockdb_res_uix (resourcekey)
, KEY mdl_lockdb_exp_ix (expires)
, KEY mdl_lockdb_own_ix (owner)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='Stores active and inactive lock types for db locking method.'
;
CREATE TABLE mdl_task_scheduled (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    lastruntime BIGINT(10),
    nextruntime BIGINT(10),
    blocking TINYINT(2) NOT NULL DEFAULT 0,
    minute VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    hour VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    day VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    month VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    dayofweek VARCHAR(25) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    faildelay BIGINT(10),
    customised TINYINT(2) NOT NULL DEFAULT 0,
    disabled TINYINT(1) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, UNIQUE KEY mdl_tasksche_cla_uix (classname)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of scheduled tasks to be run by cron.'
;
CREATE TABLE mdl_task_adhoc (
    id BIGINT(10) NOT NULL auto_increment,
    component VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    classname VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
    nextruntime BIGINT(10) NOT NULL,
    faildelay BIGINT(10),
    customdata LONGTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
    blocking TINYINT(2) NOT NULL DEFAULT 0,
CONSTRAINT  PRIMARY KEY (id)
, KEY mdl_taskadho_nex_ix (nextruntime)
)
 ENGINE = InnoDB
 DEFAULT CHARACTER SET utf8
 DEFAULT COLLATE = utf8_general_ci
 COMMENT='List of adhoc tasks waiting to run.'
Error code: ddlexecuteerror
* line 449 of \lib\dml\moodle_database.php: ddl_change_structure_exception thrown
* line 839 of \lib\dml\mysqli_native_moodle_database.php: call to moodle_database->query_end()
* line 76 of \lib\ddl\database_manager.php: call to mysqli_native_moodle_database->change_database_structure()
* line 412 of \lib\ddl\database_manager.php: call to database_manager->execute_sql_arr()
* line 364 of \lib\ddl\database_manager.php: call to database_manager->install_from_xmldb_structure()
* line 1498 of \lib\upgradelib.php: call to database_manager->install_from_xmldb_file()
* line 233 of \admin\index.php: call to install_core()

[11-Jun-2014 20:28:49 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/NFJItFhxN6.53989fdfd4c0d2.55320020.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 20:28:49 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/irmy2sGVtE.53989fe0bdd112.39914062.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 20:28:49 Europe/Berlin] PHP Warning:  rename(E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/VruMTg3RQp.53989fe11abc48.83614394.temp,E:\xampp\apps\moodle\moodledata/cache/cachestore_file/default_application/core_config/e5c-cache/e5c2f122bee710104a7366d23a4e7d72d31617be.cache): Access is denied. (code: 5) in E:\xampp\apps\moodle\htdocs\cache\stores\file\lib.php on line 721
[11-Jun-2014 20:45:32 Europe/Berlin] PHP Notice:  Undefined index: email in E:\xampp\htdocs\login.php on line 77
[11-Jun-2014 20:45:53 Europe/Berlin] PHP Notice:  Undefined index: email in E:\xampp\htdocs\login.php on line 77
[11-Jun-2014 20:45:53 Europe/Berlin] PHP Notice:  Use of undefined constant ID_my_site - assumed 'ID_my_site' in E:\xampp\htdocs\login.php on line 126
[11-Jun-2014 20:45:53 Europe/Berlin] PHP Notice:  Use of undefined constant Key_my_site - assumed 'Key_my_site' in E:\xampp\htdocs\login.php on line 128
[12-Jun-2014 15:12:39 Europe/Berlin] PHP Fatal error:  Call to undefined function heaer() in E:\xampp\htdocs\Ninja_Cert\Session_3\q10process.php on line 4
[12-Jun-2014 17:10:44 Europe/Berlin] PHP Notice:  Undefined index: email in E:\xampp\htdocs\login.php on line 77
[12-Jun-2014 17:10:44 Europe/Berlin] PHP Notice:  Use of undefined constant ID_my_site - assumed 'ID_my_site' in E:\xampp\htdocs\login.php on line 126
[12-Jun-2014 17:10:44 Europe/Berlin] PHP Notice:  Use of undefined constant Key_my_site - assumed 'Key_my_site' in E:\xampp\htdocs\login.php on line 128
[12-Jun-2014 17:28:49 Europe/Berlin] PHP Parse error:  syntax error, unexpected '<' in E:\xampp\htdocs\archerapps1.php on line 119
[12-Jun-2014 15:42:33 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[12-Jun-2014 15:42:34 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[12-Jun-2014 15:42:34 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[12-Jun-2014 15:48:38 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[12-Jun-2014 15:50:44 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[12-Jun-2014 15:50:44 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[12-Jun-2014 15:50:44 UTC] PHP Warning:  An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="https://wordpress.org/support/">support forums</a>. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in E:\xampp\apps\wordpress\htdocs\wp-admin\includes\plugin-install.php on line 77
[12-Jun-2014 15:53:20 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[12-Jun-2014 15:53:31 UTC] PHP Warning:  Invalid argument supplied for foreach() in E:\xampp\apps\wordpress\htdocs\wp-includes\update.php on line 295
[12-Jun-2014 15:55:53 UTC] PHP Warning:  An unexpected error occurred. Something may be wrong with WordPress.org or this server&#8217;s configuration. If you continue to have problems, please try the <a href="https://wordpress.org/support/">support forums</a>. (WordPress could not establish a secure connection to WordPress.org. Please contact your server administrator.) in E:\xampp\apps\wordpress\htdocs\wp-admin\includes\plugin-install.php on line 77
[12-Jun-2014 17:57:23 Europe/Berlin] PHP Fatal error:  Maximum execution time of 60 seconds exceeded in E:\xampp\apps\osclass\htdocs\oc-includes\osclass\classes\database\DBCommandClass.php on line 1002
[12-Jun-2014 17:58:16 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:58:20 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:58:20 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:58:22 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:58:40 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:58:42 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:58:42 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:58:44 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:59:14 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:59:16 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:59:32 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:59:40 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 17:59:57 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:00:19 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:00:24 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:00:34 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:00:38 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:00:59 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:01:05 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:01:11 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:01:25 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:01:32 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:01:42 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:02:17 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:02:25 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:02:56 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:03:20 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:04:44 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:04:51 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:05:26 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:06:10 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:06:37 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:07:29 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:07:51 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:08:17 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:08:40 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:08:46 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:08:59 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:09:03 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:09:47 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 18:09:51 Europe/Berlin] PHP Notice:  Undefined index: HTTPS in E:\xampp\apps\osclass\htdocs\config.php on line 25
[12-Jun-2014 22:17:55 Europe/Berlin] PHP Fatal error:  Maximum execution time of 60 seconds exceeded in D:\xampp\apps\joomla\htdocs\modules\mod_articles_latest\tmpl\default.php on line 10
